import{j as t,r as Rr}from"./index-7s7xaQU8.js";import{r as e}from"./index-CC6F48bw.js";import{C as rr,p as sr,Q as or,P as vt,S as St,D as bt,W as Ct,a as jt,M as Dt,B as Mn,V as nt,R as xt,X as Ce,Y as Ft,e as Ke,Z as Lr,_ as oe,$ as ae,I as Vr,u as gn,s as Hr,a0 as Br,a1 as Or,k as rt,N as yn,a2 as lr,a3 as ar,a4 as Pr,a5 as _r,a6 as $r,a7 as Kt,a8 as qr,a9 as zr,aa as Ur,ab as Wr,ac as ir,ad as je,j as Ot,ae as cr,af as Pt,T as rn,ag as ur,ah as Gr}from"./month-view-B1CVTTGG.js";import{d as wt}from"./dataSource-CrVxx1x3.js";/* empty css               */import"./index-qiR4Kxfn.js";var pt;(function(s){s.Circular="Circular",s.Cupertino="Cupertino",s.SingleCircle="SingleCircle",s.DoubleCircle="DoubleCircle"})(pt||(pt={}));const xn=e.forwardRef((s,u)=>{const{className:n,label:r="",visible:i=!0,thickness:l="3px",animationDuration:o="1s",color:b=rr.Primary,size:a="36px",overlay:C=!1,type:g=pt.Circular,children:f,...y}=s,L=e.useRef(null);e.useEffect(()=>{sr("spinner")},[]);const S=36,w=e.useMemo(()=>({label:r,visible:i,thickness:l,animationDuration:o,color:b,size:a,overlay:C,type:g}),[r,i,l,o,b,a,C,g]);e.useImperativeHandle(u,()=>({...w,element:L.current}),[w]);const x=({thickness:T,duration:B})=>e.useMemo(()=>{const K=(S-T)/2,U=2*Math.PI*K;return t.jsx("svg",{viewBox:`0 0 ${S} ${S}`,children:t.jsx("circle",{cx:S/2,cy:S/2,r:(S-T)/2,strokeWidth:T,strokeDasharray:U,strokeDashoffset:U*.25,strokeLinecap:"round",fill:"none",className:"sf-spinner-circle-inner",style:{animation:`spinner-rotate ${B} linear infinite`}})})},[T,B,S]),D=({duration:T,thickness:B})=>{const q=e.useMemo(()=>{const U=S/2-S*.1,ie=B,re=S*.15,Me=360/12;return Array.from({length:12},(Ne,Te)=>{const z=Me*Te,Y=(Te+1)/12;return t.jsx("line",{x1:S/2,y1:S/2-U,x2:S/2,y2:S/2-U+re,className:"sf-spinner-cupertino-dots-inner",strokeWidth:ie,strokeLinecap:"round",opacity:Y,transform:`rotate(${z} ${S/2} ${S/2})`},Te)})},[B]);return t.jsx("svg",{viewBox:`0 0 ${S} ${S}`,className:"sf-spinner-cupertino-dots",style:{animation:`spinner-rotate ${T} linear infinite`},children:q})},k=({thickness:T,duration:B})=>{const{outerCircleRadius:q,innerCircleRadius:K,outerDashLength:U,innerDashLength:ie}=e.useMemo(()=>{const re=(S-T)/2,Me=(S-T*5)/2,Ne=2*Math.PI*re,Te=2*Math.PI*Me,z=4,Y=Ne/(z*2),ue=Te/(z*2);return{outerCircleRadius:re,innerCircleRadius:Me,outerDashLength:Y,innerDashLength:ue}},[T,S]);return t.jsxs(t.Fragment,{children:[t.jsx("svg",{viewBox:`0 0 ${S} ${S}`,className:"sf-spinner-doublecircle-inner",children:t.jsx("circle",{cx:S/2,cy:S/2,r:q,strokeWidth:T,fill:"none",strokeDasharray:`${U} ${U}`,strokeLinecap:"round",style:{animation:`spinner-dash ${B} linear infinite`}})}),t.jsx("svg",{viewBox:`0 0 ${S} ${S}`,className:"sf-spinner-doublecircle-second-inner",children:t.jsx("circle",{cx:S/2,cy:S/2,r:K,strokeWidth:Math.max(1,T-1),fill:"none",strokeDasharray:`${ie} ${ie}`,strokeLinecap:"round",style:{animation:`spinner-dash ${B} linear infinite`}})})]})},$=({thickness:T,duration:B})=>e.useMemo(()=>{const K=(S-T)/2,re=2*Math.PI*K/(8*2);return t.jsx("svg",{viewBox:`0 0 ${S} ${S}`,children:t.jsx("circle",{cx:S/2,cy:S/2,r:K,strokeWidth:T,fill:"none",className:"sf-spinner-singlecircle-inner",strokeDasharray:`${re} ${re}`,strokeLinecap:"round",style:{animation:`spinner-rotate ${B} linear infinite`}})})},[T,B]),O=T=>{if(typeof T!="string")return"1s";const B=["ms","s"];for(const q of B)if(T.endsWith(q)){const K=T.slice(0,-q.length),U=parseFloat(K);if(!isNaN(U))return`${U}${q}`}return"1s"},j=b,c=Math.max(1,parseFloat(l)||3),d=e.useMemo(()=>O(o),[o]),v=e.useMemo(()=>{if(f!=null)return f;switch(g){case pt.Cupertino:return t.jsx(D,{thickness:c,duration:d});case pt.DoubleCircle:return t.jsx(k,{thickness:c,duration:d});case pt.SingleCircle:return t.jsx($,{thickness:c,duration:d});case pt.Circular:default:return t.jsx(x,{thickness:c,duration:d})}},[f,g,j,c,d]),h=or(a),R=e.useMemo(()=>({width:h,height:h}),[h]),V=e.useMemo(()=>`sf-spinner${C?" sf-spinner-overlay":""} sf-control${n?" "+n:""} sf-spinner-${String(b).toLowerCase()}`,[C,n,b]),A=e.useMemo(()=>g===pt.DoubleCircle&&!f?"sf-spinner-doublecircle":"",[g,f]);return i?t.jsx("div",{ref:L,className:V,"aria-live":"polite",role:"status",...y,children:t.jsxs("div",{className:"sf-content-center sf-spinner-content ",children:[t.jsx("span",{className:A,style:R,children:v}),r?t.jsx("div",{className:"sf-spinner-label",children:r}):null]})}):null});xn.displayName="Spinner";const cn=({locale:s="en-US"})=>{const u=e.useRef(null),n={dataSource:wt,fields:{id:"Id",subject:"Subject",location:"Location",description:"Description",startTime:"StartTime",endTime:"EndTime",isAllDay:"IsAllDay",isBlock:"IsBlock",isReadonly:"IsReadonly"}},r=i=>{const l=()=>{console.log("Custom save clicked"),i.onClose()},o=t.jsx("div",{style:{padding:"10px",backgroundColor:"rgb(103, 80, 164)",color:"white"},children:"Create/Edit Appointment"}),b=t.jsxs(t.Fragment,{children:[t.jsx(Mn,{variant:nt.Standard,onClick:l,children:"Save Appointment"}),t.jsx(Mn,{variant:nt.Standard,onClick:i.onClose,children:"Cancel"})]});return t.jsx(xt,{...i,dialogProps:{open:i.open,header:o,footer:b}})};return t.jsx("div",{className:"control-section",children:t.jsx("div",{className:"scheduler-control",children:t.jsx(vt,{locale:s,children:t.jsxs(St,{ref:u,height:"550px",width:"100%",defaultSelectedDate:new Date(2017,10,1),defaultView:"Week",eventSettings:n,editor:r,children:[t.jsx(bt,{}),t.jsx(Ct,{}),t.jsx(jt,{}),t.jsx(Dt,{})]})})})})};try{cn.displayName="CustomHeaderFooter",cn.__docgenInfo={description:"",displayName:"CustomHeaderFooter",props:{locale:{defaultValue:{value:"en-US"},description:"",name:"locale",required:!1,type:{name:"string"}}}}}catch{}var un;(function(s){s.Left="Left",s.Right="Right"})(un||(un={}));function Kr(s,u,n=Ft.None){const r=[],i=Lr({},vn,u);if(i.groupBy){let l=new Ce().group(String(i.groupBy));l=dr(n,"key",l),fr(s,l).forEach(b=>{const a={};a[String(i.text)]=b.key,a.isHeader=!0;let C=String(i.text);C==="id"&&(C="text",Object.assign(a,{text:b.key})),a[String(i.id)]=`group-list-item-${b.key?b.key.toString().trim():"undefined"}`,a.items=b.items,r.push(a),r.push(...b.items)})}return r}function dr(s,u,n=new Ce){const r=n instanceof Ce?n:new Ce;return s==="Ascending"?r.sortBy(u,"ascending",!0):s==="Descending"?r.sortBy(u,"descending",!0):r.queries&&(r.queries=r.queries.filter(i=>i.fn!=="onSortBy")),r}function fr(s,u){return!s||!u?[]:new Ke(s).executeLocal(u)}function Qr(s,u){const n={};if(oe(s))return s;if(typeof s=="string"||typeof s=="number"||typeof s=="boolean"){const r=s.toString();return n[u.text||"text"]=r,n[u.id||"id"]=s,n}else if(oe(s.isHeader)){for(const r of Object.keys(u))if(Object.prototype.hasOwnProperty.call(u,r)){const i=u[r],l=!oe(i)&&typeof i=="string"?ae(i,s):void 0;!oe(l)&&typeof i=="string"&&i.trim()&&(n[String(i)]=l)}if(!u.text&&u.id&&!oe(ae(u.id,s))){const r=u.id,i=ae(r,s);n.text=i}}else return s;return n}const Jr=s=>{if(!s)return 40;const u=s.querySelector(".sf-list-item"),n=u?u.offsetHeight:0;return typeof n=="number"&&n>0?n:40},Yr=(s,u)=>u?u.querySelector(`.sf-list-item[data-index="${s}"]`):null,Bt=(s,u)=>{!u||oe(s)||requestAnimationFrame(()=>{var r;const n=Yr(s,u);if(n)(r=n==null?void 0:n.scrollIntoView)==null||r.call(n,{block:"nearest",inline:"nearest"});else{const i=Jr(u);u.scrollTop=s*i}})},An=(s,u,n)=>Math.max(u,Math.min(n,s)),Qt=(s,u,n,r,i)=>{const l=Math.floor(u/Math.max(1,n)),o=An(l-i,0,Math.max(0,s)),b=An(o+r+i*2,0,s),a=o*n,C=Math.max(0,s*n);return{startIndex:o,endIndex:b,offsetY:a,totalHeight:C}},Xr=s=>s&&s.classList.contains("sf-list-item")&&!s.classList.contains("sf-list-group-item")&&!s.classList.contains("sf-disabled")&&!s.classList.contains("sf-display-none"),Zr="sf-list-group-item",es="sf-list-item",ts="sf-level",ns="sf-has-child",rs="sf-disabled",ss="sf-navigable",os=(s,u,n,r,i,l,o,b,a,C,g)=>{const f=e.useMemo(()=>({...vn,...u}),[u]),y=e.useMemo(()=>Qr(s,f),[s,f]),L=e.useMemo(()=>{const h=y[String(f.id)];return h!=null&&String(h)!==""?String(h):Vr("listitem")},[y,f.id]),S=e.useMemo(()=>!!(Object.prototype.hasOwnProperty.call(s,"isHeader")&&y.isHeader),[s]),w=e.useMemo(()=>(y[String(f.child)]||[]).length>0,[y,f.child]),x=e.useMemo(()=>g||!!(y[String(f.checked)]&&y[String(f.checked)].toString()==="true"),[y,f.checked,g]),D=e.useMemo(()=>y[String(f.text)]||(f.id&&y[String(f.id)]?y[String(f.id)].toString():""),[f.text,f.id,y]),k=e.useMemo(()=>String(f.icon)in y&&!oe(y[String(f.icon)]),[y,f.icon]),$=e.useMemo(()=>!!y[String(f.imageUrl)],[y,f.imageUrl]),O=e.useMemo(()=>!!y[String(f.url)],[y,f.url]),j=e.useMemo(()=>!S&&i?typeof i=="function"?i(s):i:S&&l?typeof l=="function"?l(s):l:null,[S,l,i,s]),c=e.useMemo(()=>[S?Zr:es,S&&n===0?"sf-list-group-first-item":"",`${ts}-${(o==null?void 0:o.level)??1}`,y&&!oe(y[String(f.disabled)])&&y[String(f.disabled)].toString()==="true"?rs:"",w?ns:"",b?"sf-checklist":"",(a?C??"":n===r?b?"sf-focused":"sf-active":"")||"",y&&y[String(f.url)]?ss:"",y&&!oe(y[String(f.visible)])&&y[String(f.visible)].toString()==="false"?"sf-display-none":"",y&&b&&x?"sf-active":""].filter(Boolean).join(" ").trim(),[S,o==null?void 0:o.level,y,f.disabled,w,b,a,C,n,r,g]),d=e.useMemo(()=>{const h={className:c,role:(o==null?void 0:o.groupItemRole)!==""&&(o==null?void 0:o.itemRole)!==""?S?o==null?void 0:o.groupItemRole:o==null?void 0:o.itemRole:void 0,"aria-level":(o==null?void 0:o.groupItemRole)==="presentation"||(o==null?void 0:o.itemRole)==="presentation"||o==null?void 0:o.level};return oe(y)||oe(y[String(f.tooltip)])||(h.title=String(y[String(f.tooltip)])),h},[c,o,S,f,n,y]),v=e.useMemo(()=>{if(!y||!Object.prototype.hasOwnProperty.call(y,String(f.htmlAttributes))||!y[String(f.htmlAttributes)])return d;let h={...d};const R=y[String(f.htmlAttributes)],{className:V,style:A,...T}=R;return V&&(h.className=`${h.className||""} ${V}`.trim()),A&&(h.style={...h.style,...A}),h={...h,...T},h},[d,y,f.htmlAttributes]);return{mergedFields:f,fieldData:y,uid:L,grpLI:S,checked:x,liProps:v,displayText:D,hasChild:w,hasIcon:k,hasImage:$,hasUrl:O,templateContent:j,ariaAttributes:o}},ls="sf-list-icon",Rn="sf-list-text",as="sf-list-url",is="sf-list-img",cs="sf-anchor-wrap",us=e.memo(({item:s,fields:u,index:n,focusedIndex:r,parentClass:i,itemTemplate:l,groupTemplate:o,ariaAttributes:b,checkBox:a,checkBoxPosition:C,isChecked:g,as:f,onItemClick:y,onItemKeyDown:L,getItemProps:S,...w})=>{if(oe(s))return null;const{ripple:x}=gn(),{rippleMouseDown:D,Ripple:k}=Hr(x),{className:$,...O}=e.useMemo(()=>(S==null?void 0:S({item:s,index:n}))||{},[S,s,n]),j=os(s,u,n,r,l,o,b,a,i,$,g),c=f??"li",d=e.useCallback(B=>{y==null||y(B,n)},[y,n]),v=e.useCallback(B=>{L==null||L(B,n)},[L,n]),h={...j.liProps,...w,...O,onClick:d,onKeyDown:v,onMouseDown:D},R=()=>t.jsx("span",{className:Rn,children:j.displayText}),V=()=>t.jsx(Br,{className:"sf-font-size-lg"}),A=({position:B})=>t.jsx(Or,{className:`sf-listview-checkbox sf-checkbox-${B.toLowerCase()}`,checked:j.checked}),T=()=>t.jsxs(t.Fragment,{children:[j.hasIcon&&t.jsx("div",{className:ls,children:j.fieldData[String(j.mergedFields.icon)]}),j.hasImage&&t.jsx("img",{className:is,src:String(j.fieldData[String(j.mergedFields.imageUrl)]),alt:"Icon"})]});return t.jsxs(c,{"data-value":j.uid,"data-index":n,...h,children:[j.templateContent?j.templateContent:t.jsxs(t.Fragment,{children:[i&&j.displayText,!i&&t.jsx("div",{className:"sf-list-text-content",children:j.hasUrl?t.jsx("a",{className:`${Rn} ${as}`,href:String(j.fieldData[String(j.mergedFields.url)]),children:t.jsxs("div",{className:cs,children:[t.jsx(T,{}),j.displayText,j.hasChild&&t.jsx(V,{})]})}):t.jsxs(t.Fragment,{children:[t.jsx(T,{}),!j.fieldData.isHeader&&a&&(C==="Left"?t.jsxs(t.Fragment,{children:[t.jsx(A,{position:"Left"}),t.jsx(R,{}),j.hasChild&&t.jsx(V,{})]}):t.jsxs(t.Fragment,{children:[t.jsx(R,{}),t.jsx(A,{position:"Right"}),j.hasChild&&t.jsx(V,{})]})),!a&&t.jsxs(t.Fragment,{children:[t.jsx(R,{}),j.hasChild&&t.jsx(V,{})]})]})})]}),!j.grpLI&&x&&t.jsx(k,{})]},j.uid)}),ds=({checkBox:s,fields:u,listItemDatas:n,onSelect:r,setListItemDatas:i,scrollParent:l})=>{const[o,b]=e.useState(null),[a,C]=e.useState([]),g=c=>{const d=l!=null&&l.current&&"element"in l.current&&l.current.element?l.current.element:l==null?void 0:l.current;if(!d)return;const v=Math.max(0,Math.min(c,Math.max(0,(n==null?void 0:n.length)-1)));b(n[Number(v)]),Bt(v,d)},f=c=>{const d=u.disabled,v=c.isHeader===!0,h=d?c[String(d)]===!0||c[String(d)]==="true":!1,R=c[String(u.visible)]===!0;return!v&&!h&&!R},y=e.useCallback((c,d,v)=>{const h={data:d,event:c,selected:!0,index:v},R=(u==null?void 0:u.id)||"id",V=o?Math.max(0,n.findIndex(A=>String(A[String(R)])===String(o[String(R)])))===v:!1;if(r==null||r(h,V),!d[String(u.child)]){const A=d[String(R)].toString();C([A.toString()]),b(d)}},[r,i,n,o,u]),L=e.useCallback((c,d,v)=>{f(c)&&y(d,c,v)},[y,n]),S=e.useCallback(c=>{const d=u.checked||"checked",v=n.map(h=>{if(h[String(u.id)].toString()===c){const R=h[String(d)];return R===!0||R==="true"?(C(A=>A.filter(T=>T.toString()!==c.toString())),{...h,[d]:!1}):(C(A=>[...A,c.toString()]),{...h,[d]:!0})}return h});i(v)},[u,n,i]),w=e.useCallback((c,d,v)=>{var V;if(!c)return;const h=(V=c[String(u.id)])==null?void 0:V.toString(),R={data:c,event:d,index:v};r==null||r(R,!1),S(h),b(c)},[r,S,a,u]),x=(c,d,v,h)=>{let R=h==="arrowKey"?c+d:c;const V=u.disabled;for(;R>=0&&R<v.length;){const A=v[Number(R)],T=A.isHeader===!0,B=V?A[String(V)]===!0||A[String(V)]==="true":!1,q=A[String(u.visible)]===!0;if(!T&&!B&&!q)return R;R+=d}return-1},D=e.useCallback((c,d,v)=>{const R=x(c,d?-1:1,n,v);g(R!==-1?R:c)},[n]),k=e.useCallback((c,d)=>{if(!n||n.length===0)return;const v=d?n.length-1:0;D(v,d,"homeKey")},[n]),$=e.useCallback((c,d)=>{if(!n||n.length===0)return;const v=(u==null?void 0:u.id)||"id",h=o?Math.max(0,n.findIndex(V=>String(V[String(v)])===String(o[String(v)]))):-1,R=h===-1?d?n.length-1:-1:h;D(R,d,"arrowKey")},[n,o,u==null?void 0:u.id]),O=e.useCallback((c,d)=>{if(s&&Object.keys(n).length){const v=n[Number(d)];w(v,c,d)}},[s,n,w]),j=e.useCallback((c,d)=>{switch(c.key){case"Home":c.preventDefault(),k(c,!1);break;case"End":c.preventDefault(),k(c,!0);break;case"ArrowDown":c.preventDefault(),$(c,!1);break;case"ArrowUp":c.preventDefault(),$(c,!0);break;case" ":c.preventDefault(),O(c,d);break}},[k,$,s,O]);return{focusedItem:o,activeItemsId:a,handleSelection:L,keyActionHandler:j,setCheckboxLI:w}},fs=(s,u)=>{const{items:n,itemSize:r,pageSize:i,overscanCount:l=5,scrollParent:o,height:b=360,onScrollRequest:a,role:C="listbox",showSkeleton:g,initialVisibleIndex:f=0,itemContent:y,style:L,totalCount:S,className:w,...x}=s,D=e.useMemo(()=>typeof S=="number"&&S>0?S:n.length,[S,n.length]),[k,$]=e.useState(()=>Qt(D,0,r,i,l)),[O,j]=e.useState(0),[c,d]=e.useState(!1),v=e.useRef(null),h=e.useRef(!1),R=e.useRef(0),V=e.useRef(!1),A=e.useRef(null),T=e.useRef(0),B=e.useRef(0),q=e.useMemo(()=>Math.max(0,Math.floor(O/Math.max(1,r))),[O,r]),K=e.useMemo(()=>{if(!n||n.length===0)return-1;const Y=Math.min(q,n.length-1);for(let ue=Y;ue>=0;ue--){const m=n[Number(ue)];if(m.isHeader)return ue}return-1},[n,q]),U=e.useMemo(()=>K>=0?n[Number(K)]:null,[n,K]),ie={items:n,itemSize:r,pageSize:i,overscanCount:l,scrollParent:o,height:b,showSkeleton:g,initialVisibleIndex:f,totalCount:S};e.useImperativeHandle(u,()=>({...ie,element:(o==null?void 0:o.current)||v.current}),[ie]),e.useEffect(()=>{$(Qt(D,O,r,i,l))},[D,r,i,l]),e.useEffect(()=>{if(V.current)return;const Y=(o==null?void 0:o.current)||v.current;if(!Y)return;const m=Math.max(0,Math.min(f,Math.max(0,D)))*r;Y.scrollTop=m,V.current=!0,j(m),$(Qt(D,m,r,i,l))},[o==null?void 0:o.current,f,D,r,i,l]);const re=e.useMemo(()=>{const Y=Math.min(k.startIndex,n.length),ue=Math.min(k.endIndex,n.length);return n.slice(Y,ue)},[n,k.startIndex,k.endIndex]),Me=e.useCallback(async(Y,ue)=>{if(!a||!(ue.endIndex>=n.length))return;const I=n.length;let N=i+l;if(typeof S=="number"&&S>0){const P=Math.min(D,ue.endIndex);P>n.length&&(N=P)}if(h.current||R.current>n.length)return;h.current=!0,d(!0),R.current=I+N;const H=await a({startIndex:I,count:N,originalEvent:Y});Promise.resolve(H).catch(()=>{d(!1)}).finally(()=>{h.current=!1,d(!1)})},[a,n.length,i,l,c,D,S]),Ne=e.useCallback(Y=>{const ue=(o==null?void 0:o.current)||v.current;if(!ue||c)return;const m=ue.scrollTop,I=Qt(D,m,r,i,l),N=T.current??0;if(Math.abs(I.startIndex-N)>l&&A.current){const P=I.offsetY||0;P!==B.current&&(A.current.style.transform=`translate3d(0px, ${P}px, 0px) translateZ(0px)`,B.current=P)}Me(Y,I),requestAnimationFrame(()=>{T.current=I.startIndex,j(m),$(I)})},[r,i,l,D,n.length,o,Me,c]);e.useEffect(()=>{const Y=(o==null?void 0:o.current)||v.current;if(Y)return Y.addEventListener("scroll",Ne,{passive:!0}),()=>Y.removeEventListener("scroll",Ne)},[Ne,o==null?void 0:o.current]),e.useEffect(()=>{g&&(n.length===0&&a?d(!0):n.length>0&&d(!1))},[n.length,a,g]);const Te=e.useCallback(()=>t.jsxs(t.Fragment,{children:[U&&O>=r&&t.jsx("div",{className:"sf-pinned-group",children:y(K,U)}),t.jsx("div",{className:"sf-virtual-content sf-pos-relative",style:{height:k.totalHeight},children:t.jsx("div",{className:"sf-virtual-items",ref:A,style:{transform:`translate3d(0px, ${k.offsetY}px, 0px) translateZ(0px)`},children:g&&c&&re.length!==0?Array.from({length:re.length}).map((Y,ue)=>t.jsx("div",{className:"sf-list-skeleton",style:{height:r}},`skeleton-${ue}`)):re.map((Y,ue)=>{const m=k.startIndex+ue;return y(m,Y)})})})]}),[r,k.totalHeight,k.offsetY,g,c,re,k.startIndex,y,U,K,O]),z=e.useMemo(()=>["sf-virtual-scroll-parent",w].filter(Boolean).join(" ").trim(),[w]);return o?Te():t.jsx("div",{ref:v,role:C,className:z,style:{height:b,...L},...x,children:Te()})},ps=e.forwardRef(fs),Ln="sf-list-parent sf-ul",ms={level:1,listRole:"list",listLabel:"list",itemRole:"listitem",groupItemRole:"group"},vn={id:"id",text:"text",url:"url",checked:"checked",disabled:"disabled",icon:"icon",child:"child",visible:"visible",tooltip:"tooltip",htmlAttributes:"htmlAttributes",imageUrl:"imageUrl",groupBy:void 0},hs=e.memo(e.forwardRef(({items:s,fields:u=vn,scrollParent:n,checkBox:r=!1,checkBoxPosition:i=un.Left,virtualization:l,parentClass:o,itemTemplate:b,groupTemplate:a,ariaAttributes:C,getItemProps:g,onItemKeyDown:f,onSelect:y,setListItemDatas:L,onScrollRequest:S,disableDefaultInteractions:w=!1,disabled:x=!1},D)=>{C={...ms,...C};const $=e.useRef(null),O=e.useRef(null);e.useImperativeHandle(D,()=>$.current,[]);const j=ds({checkBox:r,fields:u,listItemDatas:s||[],onSelect:y,setListItemDatas:L||(()=>{}),scrollParent:n!=null&&n.current?n:O}),c=(u==null?void 0:u.id)??"id",d=e.useMemo(()=>{var T;if(!j.focusedItem||!s)return-1;const A=String((T=j.focusedItem)==null?void 0:T[String(c)]);return oe(A)?-1:s.findIndex(B=>String(B==null?void 0:B[String(c)])===String(A))},[j.focusedItem,s,c]),v=e.useCallback((A,T)=>{if(x)return;if(w){y==null||y({event:A,index:T},d===T);return}const B=A.currentTarget,q=s==null?void 0:s[Number(T)];q&&(r&&Xr(B)?B.classList.contains("sf-has-child")?j.handleSelection(q,A,T):j.setCheckboxLI(q,A,T):j.handleSelection(q,A,T))},[w,x,r,j]),h=e.useCallback(A=>{x||(w||j.keyActionHandler(A,d),f==null||f(A,d))},[w,j,f,d,x]),R=e.useMemo(()=>[o||"sf-list-container",l?"sf-virtualization":""].filter(Boolean).join(" ").trim(),[l,o]),V=e.useCallback((A,T)=>t.jsx(us,{item:T,fields:u,index:A,onItemClick:v,getItemProps:g,itemTemplate:b,groupTemplate:a,checkBoxPosition:i,parentClass:o,ariaAttributes:C,checkBox:r,focusedIndex:d,isChecked:j.activeItemsId.includes(String(T==null?void 0:T[String(c)])),as:l?"div":"li"},`sf-item-${A}`),[u,v,g,b,a,i,o,C,r,d,j.activeItemsId,c]);return t.jsx("div",{ref:$,className:R,children:l?t.jsx("div",{ref:O,className:Ln,role:(C==null?void 0:C.listRole)??void 0,"aria-label":(C==null?void 0:C.listLabel)??void 0,tabIndex:0,onKeyDown:h,children:t.jsx(ps,{items:s,itemSize:l==null?void 0:l.itemSize,pageSize:l==null?void 0:l.pageSize,overscanCount:l==null?void 0:l.overscanCount,showSkeleton:l.showSkeleton,scrollParent:n||O,onScrollRequest:S,itemContent:V})}):t.jsx("ul",{ref:O,className:Ln,role:(C==null?void 0:C.listRole)??void 0,"aria-label":(C==null?void 0:C.listLabel)??void 0,tabIndex:0,onKeyDown:h,children:s==null?void 0:s.map((A,T)=>V(T,A))})})}));var Mt;(function(s){s.FetchViewPort="FetchViewPort",s.FetchAll="FetchAll"})(Mt||(Mt={}));const gs=s=>{const{dropdownValue:u,inputElementRef:n,required:r,valid:i,validationMessage:l}=s,o=e.useMemo(()=>i!==void 0?!!i:r?u!=null:!0,[i,r,u]);return e.useEffect(()=>{const b=o?"":l||"",a=(n==null?void 0:n.current)??void 0;a&&typeof a.setCustomValidity=="function"&&a.setCustomValidity(b)},[o,l,n]),{isInputValid:o}},pr=(s,u,n,r)=>{const i=s.length>0&&(typeof s[0]=="string"||typeof s[0]=="number"||typeof s[0]=="boolean");if(i||!u.groupBy)if(i&&n!==Ft.None){const l=[...s];return n===Ft.Ascending?l.sort((o,b)=>String(o).localeCompare(String(b))):n===Ft.Descending&&l.sort((o,b)=>String(b).localeCompare(String(o))),l}else{const l=dr(n,(u==null?void 0:u.text)||"text",r),o=fr(s,l);return o&&Array.isArray(o.result)?o.result:o}else return Kr(s,u,n)},mr=s=>{switch(String(s??"")){case"StartsWith":return"startsWith";case"EndsWith":return"endsWith";case"Contains":return"contains";default:return"contains"}},hr=(s,u,n)=>{if(oe(s)||!Array.isArray(u)||u.length===0)return-1;const r=(n==null?void 0:n.value)||"value",i=String(typeof s=="object"?ae(r,s):s);for(let l=0;l<u.length;l++){const o=u[l];if(!oe(o)&&!(typeof o=="object"&&(o!=null&&o.isHeader))){if(typeof o=="object"){const b=ae(r,o);if(!oe(b)&&String(b)===i)return l}else if(String(o)===i)return l}}return-1},Ee=(s,u,n)=>{let r;return u==="value"?r=(n==null?void 0:n.value)??"value":r=(n==null?void 0:n.text)??"text",typeof s=="string"||typeof s=="number"||typeof s=="boolean"?s:typeof s=="object"&&s!==null?ae(r,s):""},Ht=s=>typeof s=="string"||typeof s=="number"||typeof s=="boolean",ys=(s,u)=>{const n=s??"",r=(u??"").toLowerCase();if(!r)return[{text:n,highlight:!1}];const i=n.toLowerCase(),l=[];let o=0;for(;o<n.length;){const b=i.indexOf(r,o);if(b===-1){l.push({text:n.slice(o),highlight:!1});break}b>o&&l.push({text:n.slice(o,b),highlight:!1}),l.push({text:n.slice(b,b+r.length),highlight:!0}),o=b+r.length}return l},xs=s=>{const{isDropdownFiltering:u,ignoreCase:n,ignoreAccent:r,filterType:i,fields:l,dataSource:o,onFilter:b,setListData:a,baseQuery:C,externalFilterInputRef:g}=s,[f,y]=e.useState(""),[L,S]=e.useState(!1),w=s.externalTypedString!==void 0?s.externalTypedString:f,x=s.setExternalTypedString||y,D=e.useCallback((c,d)=>{if((g==null?void 0:g.current)!=null&&g.current.value.trim()!==""){const v=d||C||new Ce;if(!d){const h=mr(i);Array.isArray(c)&&c.length>0&&(typeof c[0]=="string"||typeof c[0]=="number"||typeof c[0]=="boolean")?v.where("",h,g.current.value,n,r):v.where(l.text||"text",h,g.current.value,n,r)}a(c,v,!0,g.current.value)}else a(c,d||C||new Ce,!0)},[i,l,n,r,a,C]),k=e.useCallback((c,d)=>{if(u&&(g==null?void 0:g.current)!=null){const v={preventDefaultAction:!1,text:d,event:c};b&&b(v),!L&&!v.preventDefaultAction&&o&&D(o,null)}},[u,D,b,L,o]),$=e.useCallback((c,d,v)=>{var R;S(!0);const h=((R=g==null?void 0:g.current)==null?void 0:R.value)||w;if(h){const V=d||new Ce;d||V.where((v==null?void 0:v.text)||"text","contains",h,n),D(c,V)}else D(c,d)},[w,n,D]),O=e.useCallback(c=>{x(c.target.value),k(c,c.target.value)},[k]),j=e.useCallback(c=>{c.preventDefault(),c.stopPropagation(),x(""),a(o,C||new Ce,!0)},[x,a,o,C]);return{handleInputChange:O,clearText:j,filter:$}},sn=(s,u)=>s===null?null:e.isValidElement(s)?s:typeof s=="function"?s():null,vs=({headerTemplate:s})=>t.jsx(t.Fragment,{children:sn(s)}),Ss=e.memo(vs),bs=({footerTemplate:s})=>t.jsx(t.Fragment,{children:sn(s)}),Cs=e.memo(bs),js=({noRecordsTemplate:s,defaultText:u})=>{const n=t.jsx("div",{className:"sf-content sf-dd-base sf-dd-nodata",children:u}),r=sn(s);return t.jsx(t.Fragment,{children:r??n})},Ds=e.memo(js),ws=({errorTemplate:s,defaultText:u})=>{const n=t.jsx("div",{className:"sf-content sf-dd-base sf-dd-nodata",children:u}),r=sn(s);return t.jsx(t.Fragment,{children:r??n})},Ts=e.memo(ws),Is={text:"text",value:"value",disabled:"disabled",groupBy:void 0,htmlAttributes:"htmlAttributes"},Ze={root:"sf-dd-base",content:"sf-content",selected:"sf-active",focus:"sf-item-focus",li:"sf-list-item",disabled:"sf-disabled",grouping:"sf-dd-group",hover:"sf-hover",noData:"sf-dd-nodata"},gr=e.forwardRef((s,u)=>{const{dataSource:n=[],fields:r=Is,value:i,query:l,isDropdownFiltering:o=!1,filterPlaceholder:b="",ignoreCase:a,ignoreAccent:C,filterType:g="StartsWith",size:f=rt.Medium,itemTemplate:y,groupTemplate:L,headerTemplate:S,footerTemplate:w,sortOrder:x=Ft.None,noRecordsTemplate:D,onErrorTemplate:k,allowObjectBinding:$=!1,activeIndex:O,id:j,debounceDelay:c=0,remoteCacheRef:d,itemData:v,virtualization:h,focusedItem:R,externalFilterInputRef:V,onError:A,onItemClick:T,onFilter:B,keyActionHandler:q,onDataRequest:K,onDataLoad:U,onScroll:ie}=s,{locale:re}=gn(),Ne=yn("dropdownList",{noRecordsMessage:"No Records Found",errorMessage:"Request Failed"},re||"en-US"),Te=(l==null?void 0:l.clone())??new Ce,[z,Y]=e.useState([]),[ue,m]=e.useState(!1),[I,N]=e.useState(!1),[H,P]=e.useState(null),[ee,ye]=e.useState(null),[xe,De]=e.useState(""),[Qe,we]=e.useState(!1),Ae=e.useRef([]),pe=e.useRef(null),Je=e.useRef(xe),et=e.useRef(null),X=e.useRef(null),At=e.useRef(null),Ie=e.useRef([]),mt=e.useRef(0),Tt=e.useRef(!1),st=e.useCallback(p=>{Tt.current=p,m(p)},[]),be=e.useCallback(p=>{let E;if(o){E=p.clone();const M=Je.current??"";if(M!==""){const _=mr(g),W=fe(n).typeof;if(!(n instanceof Ke)&&(W==="string"||W==="number"||W==="boolean"))E.where("",_,M,a,C);else{const Fe=r!=null&&r.text?r.text:"text";E.where(Fe,_,M,a,C)}}}else E=p.clone();return E.clone()},[l,o,g,a,C,r]),Re=e.useCallback(p=>{I||N(!0);const E=pr(p,r,x,l??new Ce);Y(E)},[r,x,l,I]),at=e.useCallback(p=>{if(!(n instanceof Ke)||!(d!=null&&d.current)||!p)return;const E=Array.from(d==null?void 0:d.current),M=typeof p=="string"||typeof p=="number"||typeof p=="boolean",_=String(M?p:ae(r.value,p));E.some(ne=>String(M?typeof ne!="object"&&ne:typeof ne=="object"&&ae(r.value,ne))===_)||(E.push(p),d.current=E)},[r,d]),Rt=e.useCallback((p,E,M,_)=>{var Fe;if(M&&p instanceof Ke&&h&&h.scrollMode===Mt.FetchViewPort){It(p,E,M,_);return}let W;Array.isArray(p)?W=p.filter(Z=>Z!=null):W=p,Je.current=_??"";const ne={data:W,query:E};if(W instanceof Ke){const Z=W;if(o&&!M&&at(v),d!=null&&d.current&&!M){const Q=d.current,ve=new Ke(Q),J=ne.query?ne.query:be(new Ce);J.queries.some(ft=>ft.fn==="onTake")&&(J.queries=(Fe=J==null?void 0:J.queries)==null?void 0:Fe.filter(ft=>ft.fn!=="onTake"),J.take(Q.length));const qe=J.executeLocal(ve),Le={data:qe&&Array.isArray(qe.result)?qe.result:qe};U==null||U(Le),Re(Le.data);return}ue||(K==null||K({data:ne.data,query:E?ne.query:be(new Ce)}),m(!0),we(!1),Z.executeQuery(ne.query?ne.query:be(new Ce)).then(Q=>{const ve=Q&&Array.isArray(Q.result)?Q.result:[];if(d&&!M&&(d.current=ve),!Q.cancel){const J={data:Q.result};U==null||U(J,M),Re(J.data)}m(!1),we(!1)}).catch(Q=>{m(!1),we(!0),N(!1),A==null||A(Q)}))}else{const Z=new Ke(ne.data),ve={data:be(ne.query||new Ce).executeLocal(Z)};U==null||U(ve),Re(ve.data),m(!1),we(!1)}},[ue,be,x,A,k,K,U,Re,at]),It=e.useCallback(async(p,E,M,_,W)=>{var Q,ve;M&&(Ie.current=[]),Je.current=_??"";const ne={data:p,query:E},Fe=p;o&&!M&&v&&at(v);const Z=!!(o&&((Q=pe==null?void 0:pe.current)!=null&&Q.value));if(M&&h&&Z){const J=h.pageSize+(h.overscanCount??5),qe=be(new Ce).skip(0).take(J).requiresCount();Tt.current||(K==null||K({data:ne.data,query:qe}),st(!0),we(!1),await Fe.executeQuery(qe).then(Se=>{const Le=Se&&Array.isArray(Se.result)?Se.result:[];Ie.current=Ie.current.concat(Le),mt.current++,Re(Ie.current),st(!1),we(!1)}).catch(Se=>{st(!1),we(!0),N(!1),A==null||A(Se)}));return}if(d!=null&&d.current&&!W){const J=d.current,qe=new Ke(J),Se=ne.query;Se.queries.some(Nt=>Nt.fn==="onTake")&&(Se.queries=(ve=Se==null?void 0:Se.queries)==null?void 0:ve.filter(Nt=>Nt.fn!=="onTake"),Se.take(J.length));const Le=Se.executeLocal(qe),ot={data:Le&&Array.isArray(Le.result)?Le.result:Le};U==null||U(ot),Re(ot.data);return}Tt.current||(K==null||K({data:ne.data,query:ne.query}),st(!0),we(!1),await Fe.executeQuery(ne.query).then(J=>{const qe=J&&Array.isArray(J.result)?J.result:[];if(Z){let Se=[];Array.isArray(Ie.current)&&(Se=Ie.current);const Le=Se.concat(qe);Ie.current=Le}else if(d&&!M){let Se=[];Array.isArray(d.current)&&(Se=d.current);const Le=Se.concat(qe);d.current=Le}J.cancel||(Z&&(Ie!=null&&Ie.current)?Re(Ie.current):d!=null&&d.current&&(U==null||U({data:d.current}),Re(d.current))),st(!1),we(!1)}).catch(J=>{st(!1),we(!0),N(!1),A==null||A(J)}))},[be,A,K,U,Re,at,o,pe,v,h,Je,d,Ie,st,N,we,mt,Tt]),ce=e.useCallback(async p=>{var _,W;if(!(n instanceof Ke)||h&&h.scrollMode===Mt.FetchAll){ie==null||ie(p);return}const E=!!(o&&((_=pe==null?void 0:pe.current)!=null&&_.value));Je.current=E?(W=pe==null?void 0:pe.current)==null?void 0:W.value:Je.current;const M=be(new Ce).skip(p.startIndex).take(p.count).requiresCount();await It(n,M,!1,void 0,!0),ie==null||ie(p)},[n,ie,It,be,o,pe,Je,h]),{handleInputChange:Ve,clearText:it,filter:kt}=xs({isDropdownFiltering:o,ignoreCase:a,ignoreAccent:C,filterType:g,fields:r,dataSource:n,baseQuery:Te,onFilter:B,setListData:Rt,externalTypedString:xe,setExternalTypedString:De,externalFilterInputRef:V??pe}),He=e.useMemo(()=>{const p=Array.isArray(z)&&z.length>0&&(typeof z[0]=="string"||typeof z[0]=="number"||typeof z[0]=="boolean");return[Ze.content,Ze.root,!p&&r.groupBy?Ze.grouping:"",z.length===0?"sf-dd-nodata":""].filter(Boolean).join(" ")},[r.groupBy,z]),ze=t.jsx(Ds,{noRecordsTemplate:D,defaultText:Ne.getConstant("noRecordsMessage")}),ct=t.jsx(Ts,{errorTemplate:k,defaultText:Ne.getConstant("errorMessage")});e.useEffect(()=>{if(i!=null&&z.length>0){const p=new Map;z.forEach((M,_)=>{const W=String(typeof M=="object"?ae(r.value??"",M):M);p.set(W,_)});const E=p.get(String(i))??-1;E!==-1&&P(E)}else i==null&&P(null)},[i,z,r]),e.useEffect(()=>{o&&pe.current&&pe.current.focus({preventScroll:!0})},[o,pe.current]),e.useEffect(()=>{if(!I||At.current!==JSON.stringify(n))if(At.current=JSON.stringify(n)??null,n instanceof Ke&&h&&h.scrollMode===Mt.FetchViewPort){const p=h.pageSize+(h.overscanCount??5),E=be(new Ce).skip(0).take(p).requiresCount();It(n,E)}else Rt(n,l)},[n,l,I]),e.useEffect(()=>{z.length>0?ye(O||0):ye(null)},[z,O]),e.useEffect(()=>()=>{X.current&&(clearTimeout(X.current),X.current=null)},[]);const ke=e.useCallback((p,E)=>{var Q;const M=(Q=et==null?void 0:et.current)==null?void 0:Q.parentElement,_=M.style.display;M.style.visibility="hidden",M.style.display="block";const W=E.offsetTop,ne=W+E.offsetHeight,Fe=p.scrollTop,Z=p.scrollTop+p.clientHeight;ne>Z?p.scrollTop=ne-p.clientHeight:W<Fe&&(p.scrollTop=Math.max(0,W)),M.style.visibility="",M.style.display=_},[et]);e.useEffect(()=>{if(!I||oe(v))return;const p=typeof v=="object"&&v!==null?ae((r==null?void 0:r.value)??"value",v):v;if(oe(p))return;const E=Pe(),M=E==null?void 0:E.find(W=>{var ne;return((ne=W==null?void 0:W.dataset)==null?void 0:ne.value)===String(p)}),_=Ye();if(M&&_)ke(_,M);else if(h&&_){const W=hr(v,z,r);W!==-1&&Bt(W,_)}},[I]);const fe=e.useCallback(p=>{let E={typeof:null,item:null};if(!Array.isArray(p)||p.length===0)return E;for(let M=0;M<p.length;M++)if(p[M]!==null&&p[M]!==void 0&&!(typeof p[M]=="string"||typeof p[M]=="number"||typeof p[M]=="boolean"?oe(p[M]):oe(ae(r.value,p[M]))))return E={typeof:typeof p[M],item:p[M]};return E},[r]),ut=e.useCallback(p=>{if(z&&z.length){const E=fe(z);if(typeof ae(r.value,E.item)=="number"||E.typeof==="number")return parseFloat(p);if(typeof ae(r.value,E.item)=="boolean"||E.typeof==="boolean")return p==="true"||""+p=="true"}return p},[z,r,fe]),he=e.useCallback(p=>{if(!oe(z)){const E=fe(z).typeof;if(E==="string"||E==="number"||E==="boolean")for(let M=0;M<z.length;M++){const _=z[M];if(!oe(_)&&String(_)===String(p))return _}else for(let M=0;M<z.length;M++){const _=z[M];if(!oe(_)&&String(ae(r.value,_))===String(p))return _}}},[z,r,fe]),Be=e.useCallback((p,E,M)=>oe(p)?!1:M?String(p).toLowerCase()===(E==null?void 0:E.toString().toLowerCase()):String(p)===(E==null?void 0:E.toString()),[]),$e=e.useCallback((p,E)=>{if(!oe(z)){const _=z.find(W=>!oe(ae(r.value,W))&&Be(String(ae(r.value||"",W)),p,E));return _?ae(r.text||r.value,_):null}return null},[z,r,fe]),Oe=e.useCallback(p=>{const E=fe(n).typeof;return E==="string"||E==="number"||E==="boolean"?p.toString():$e(p,!!a)||""},[$e,fe,n]),se=e.useCallback(p=>{var M;const E=((M=p.event.currentTarget.dataset)==null?void 0:M.value)??null;if(E){let _;const W=fe(n).typeof;W==="string"||W==="number"||W==="boolean"?_=E:_=he(ut(E)),_&&Oe(E)}P(p.index),ye(null),T==null||T(p.event,p.index)},[he,ut,Oe,T,fe,n]),Ue=e.useCallback(p=>{let E="",M="",_=!1;if(i!==null)if(typeof p.item=="string"||typeof p.item=="number"||typeof p.item=="boolean")E=M=String(p.item),_=String(p.item)===String(i);else if(E=String(ae(r.value||"",p.item)),M=String(ae(r.text||r.value||"",p.item)),$){const Q=r==null?void 0:r.value,ve=Q&&typeof i=="object"&&i!==null?i[Q]:void 0;_=E===String(ve??"")}else _=E===String(i);let W=H!==null?p.index===H:_;try{const Q=v;if(Q!=null){const ve=String(typeof Q=="object"?ae(r.value||"value",Q):Q),J=String(typeof Q=="object"?ae(r.text||r.value||"",Q):Q);W=String(E)===ve&&String(M)===J}}catch{W=!1}let ne=v?!1:(z==null?void 0:z[0]).isHeader?p.index===1:p.index===0;R!=null&&(ne=String(Ee(p.item,"value",r))===String(Ee(R.item,"value",r)));const Fe=r.disabled&&typeof p.item=="object"&&ae(r.disabled,p.item)===!0;return{className:[W?Ze.selected:"",ne?Ze.focus:"",Fe?Ze.disabled:""].filter(Boolean).join(" "),id:`${j}-option-${p.index}`,"aria-selected":W?"true":"false","aria-disabled":Fe?"true":"false",ref:Q=>{Ae.current[p.index]=Q}}},[z,H,He,i,r,Ze,ee,v,j,R]),dt=e.useMemo(()=>!r||Object.keys(r).length===0?r:Object.keys(r).length>0?{id:r==null?void 0:r.value,text:r==null?void 0:r.text,groupBy:r==null?void 0:r.groupBy,disabled:r==null?void 0:r.disabled,htmlAttributes:r==null?void 0:r.htmlAttributes}:r,[r]),te=e.useMemo(()=>t.jsx(hs,{getItemProps:Ue,items:z,parentClass:He,itemTemplate:y,groupTemplate:L,fields:dt,ariaAttributes:{itemRole:"option",listRole:"listbox",groupItemRole:"presentation"},onSelect:se,virtualization:h,onScrollRequest:ce,disableDefaultInteractions:!0},`list-base${mt.current}`),[He,y,L,z,se,Ue,r,v,mt]),Pe=e.useCallback(()=>(r.groupBy||y)&&et.current?Array.from(et.current.getElementsByClassName(Ze.li)):Ae.current.filter(Boolean),[r.groupBy,y,Ze.li]),Ye=e.useCallback(()=>{const p=et.current;if(!p)return null;const E=p.querySelector(".sf-ul");return E||null},[]),Et=e.useCallback(()=>z,[z,Rt]),ht=e.useCallback(p=>{var _;let E=-1;const M=Pe();for(let W=0;W<M.length;W++){const ne=((_=M[W].dataset)==null?void 0:_.value)??null;if(!oe(p)&&!oe(ne)&&String(ne)===String(p)){E=W;break}}return E},[Pe]),Lt=e.useCallback(p=>{var E,M;if(c&&c>0){const _=V?(E=V.current)==null?void 0:E.value:(M=pe.current)==null?void 0:M.value;X.current&&(clearTimeout(X.current),X.current=null),De(_),X.current=window.setTimeout(()=>{Ve(p),clearTimeout(X.current),X.current=null},c)}else Ve(p)},[c,Ve,pe,X,De,V]),on=e.useCallback((p,E,M,_,W)=>{if(_){Lt(_);return}if(W){it(W);return}kt(p,E,M)},[kt,Lt,it]);e.useImperativeHandle(u,()=>({getFormattedValue:ut,getDataByValue:he,getIndexByValue:ht,getTextByValue:Oe,getScrollContainer:Ye,getListItems:Pe,getFilteredListData:Et,filterType:g,externalFilterInputRef:V,filter:on}),[ut,he,ht,Oe,Pe,z,Ye]);const gt=p=>p==="ArrowUp"||p==="ArrowDown"||p==="Home"||p==="End"||p==="PageUp"||p==="PageDown",ln=e.useCallback(p=>{p.key!=="Enter"&&!gt(p.key)&&(q==null||q(p))},[s.keyActionHandler]),_t=e.useCallback(p=>{if(p.key==="Enter"){p.stopPropagation(),q==null||q(p);return}if(gt(p.key)){p.preventDefault(),p.stopPropagation(),q==null||q(p);return}},[q]);return t.jsx(t.Fragment,{children:I?t.jsxs("div",{className:f===rt.Small?"sf-small":f===rt.Large?"sf-large":"sf-medium",ref:et,children:[o&&!(V!=null&&V.current)&&t.jsx("span",{className:"sf-ddl-filter-parent",children:t.jsxs("span",{className:`sf-input-group sf-control sf-input-focus ${f===rt.Small?"sf-small":f===rt.Large?"sf-large":"sf-medium"}`,children:[t.jsx(lr,{name:j+"_filter",ref:pe,type:"text",value:xe,className:"sf-input-filter",placeholder:b,title:"Filter",onChange:Lt,onKeyUp:ln,onKeyDown:_t}),ue?t.jsx(xn,{size:f===rt.Small?"16px":"20px",visible:!0}):ar(xe,it)]})}),S&&t.jsx("div",{className:"sf-dd-header",children:t.jsx(Ss,{headerTemplate:S})}),z.length===0?ze:te,w&&t.jsx("div",{className:"sf-dd-footer",children:t.jsx(Cs,{footerTemplate:w})})]}):Qe&&t.jsx("div",{className:Ze.root+" "+Ze.content+" "+Ze.noData,children:ct})})});e.memo(gr);const ks=(s={})=>{const{value:u,defaultValue:n,open:r,loading:i,onChange:l}=s,[o,b]=e.useState(!!r),[a,C]=e.useState(""),[g,f]=e.useState(!1),[y,L]=e.useState(!!i),[S,w]=e.useState(null),[x,D]=e.useState(null),k=e.useMemo(()=>r!==void 0,[r]),$=e.useMemo(()=>u!==void 0&&!!l,[u,l]),O=e.useMemo(()=>$||u!==void 0?u:n!==void 0?n:null,[$,u,n]),[j,c]=e.useState(O);return e.useEffect(()=>{k&&b(!!r)},[k,r]),e.useEffect(()=>{L(!!i)},[i]),e.useEffect(()=>{$&&c(u)},[$,u]),[{isPopupOpen:o,dropdownValue:j,textValue:a,isSpanFocused:g,isLoading:y,activeIndex:S,itemData:x},{setIsPopupOpen:h=>b(h),setDropdownValue:h=>c(h),setTextValue:h=>C(h),setIsSpanFocused:h=>f(h),setIsLoading:h=>L(h),setActiveIndex:h=>w(h),setItemData:h=>D(h)}]},Es=s=>{const u=e.useMemo(()=>["sf-ddl sf-popup",s.className].filter(Boolean).join(" "),[s.className]),{isPopupOpen:n,open:r,setIsPopupOpen:i,setIsSpanFocused:l,spanElementRef:o,inputElementRef:b,popupRef:a,onOpen:C,onClose:g,popupWidth:f,popupHeight:y}=s,L=e.useMemo(()=>r!==void 0,[r]),S=e.useCallback(O=>{var j;L||(i(!0),(j=b.current)==null||j.focus()),C&&C({event:O})},[L,i,b,C,a]),w=e.useCallback(O=>{L||i(!1),g&&a.current&&g({event:O}),r||l(!0)},[L,i,g,a,r,l,b]),x=e.useCallback(O=>{var h,R,V;const j=O.target,c=!!o.current&&!o.current.contains(j)&&j.isConnected,d=!!((h=a.current)!=null&&h.element)&&!a.current.element.contains(j),v=j instanceof Element?j:null;(n&&c&&d||!c&&((V=(R=a.current)==null?void 0:R.element)!=null&&V.classList.contains("sf-input-group")))&&(w(O),l(!1)),c&&!(v&&v.matches(".sf-list-item"))&&!(v&&v.matches(".sf-input-icon"))&&l(!1)},[n,w,l,o,a]),D=e.useCallback((O,j,c)=>{const d=or(O);if(!d.includes("%"))return d;const v=parseFloat(d);if(!j||Number.isNaN(v))return d;const h=typeof j.getBoundingClientRect=="function"?j.getBoundingClientRect():null,R=c==="width"?j.offsetWidth:j.offsetHeight,V=h?c==="width"?h.width:h.height:0;let A=0;if(typeof window<"u"&&window.getComputedStyle){const B=window.getComputedStyle(j),q=c==="width"?B.width:B.height;A=parseFloat(q||"0")||0}return`${(R||V||A||0)*v/100}px`},[]),k=e.useCallback(()=>D(f,o.current,"width"),[f,o,D]),$=e.useCallback(()=>D(y,b.current,"height"),[y,b,D]);return e.useEffect(()=>(n&&document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}),[n,x]),e.useEffect(()=>{const O=j=>{var d;const c=((d=a.current)==null?void 0:d.element)&&!a.current.element.contains(j.target)&&!o.current.contains(j.target);n&&c&&(w(j),l(!1))};return n&&document.addEventListener("scroll",O,!0),()=>{document.removeEventListener("scroll",O,!0)}},[n,w,a,l]),{showPopup:S,hidePopup:w,setPopupWidth:k,setPopupHeight:$,popupClassNames:u}},Ns=s=>{const{value:u,defaultValue:n,dataSource:r,dataSourceListItems:i,fields:l,isValueControlled:o,allowObjectBinding:b,dropdownbaseRef:a,dropdownValue:C,setDropdownValue:g,setTextValue:f,setActiveIndex:y,setItemData:L,prefetchData:S}=s,w=e.useRef(n),x=e.useRef(!1),D=e.useRef(r),k=e.useCallback(c=>{if(Array.isArray(r)){const h=r[0];if((typeof h=="string"||r.length===0)&&typeof c=="boolean"){f("");return}else if(typeof h=="object"&&!b)return}const d=l==null?void 0:l.text,v=d&&c&&typeof c=="object"?String(c[d]):"";f(Ht(c)?String(c):b&&d?String(v):"")},[r,Ht,f]),$=e.useCallback(c=>{const d=l==null?void 0:l.value;return b&&c&&typeof c=="object"&&d?c[d]??null:c??null},[b,l==null?void 0:l.value]),O=e.useCallback((c,d)=>{const v=l==null?void 0:l.value;if(d&&typeof d=="object"&&v){for(let h=0;h<d.length;h++)if(ae(v,d[h].item)===c)return{index:h,textValue:ae(l.text||l.value,d[h].item)}}return{index:-1,textValue:c}},[l==null?void 0:l.value,l==null?void 0:l.text]),j=e.useCallback((c,d)=>{if(!Array.isArray(c)||oe(d))return!1;const v=c.length>0&&Ht(c[0]),h=l==null?void 0:l.value,R=l==null?void 0:l.text,V=new Map;c.forEach((T,B)=>{const q=v?String(T):h?String(ae(h,T)):"";V.set(q,B)});const A=V.get(String(d))??-1;if(A!==-1){const T=c[A],B=String(v?T:R?ae(R,T):d);return f(B),y(A),L==null||L(T),!0}return!1},[l==null?void 0:l.value,l==null?void 0:l.text,Ht,y,f]);e.useLayoutEffect(()=>{var v,h,R,V,A;if(o){const T=u;if(oe(T))f(""),y(null);else{g(T);const B=a!=null&&a.current?(v=a==null?void 0:a.current)==null?void 0:v.getFilteredListData():r;if(B&&Array.isArray(B))j(B,T)||k(T);else if(B instanceof Ke){const q=$(T);if(oe(q))f(""),y(null);else{let K=((R=(h=a==null?void 0:a.current)==null?void 0:h.getTextByValue)==null?void 0:R.call(h,q))??"",U=((A=(V=a==null?void 0:a.current)==null?void 0:V.getIndexByValue)==null?void 0:A.call(V,q))??-1;if(K===""&&!(a!=null&&a.current))if(i&&i.length>0){const{index:ie,textValue:re}=O(q,i);K=re,U=ie}else S&&S().then(ie=>{!ie||ie.length===0||j(ie,T)||k(T)});f(K),y(U!==-1?U:null)}}}return}const c=JSON.stringify(w.current)!==JSON.stringify(n),d=JSON.stringify(D.current)!==JSON.stringify(r);if(!x.current||c||d){const T=u??n??C;oe(T)?(f(""),y(null)):(g(T),r&&Array.isArray(r)?j(r,T)||k(T):r instanceof Ke&&S&&S().then(B=>{!B||B.length===0||j(B,T)||k(T)})),x.current=!0,w.current=n,D.current=r}},[o,u,n,r,l==null?void 0:l.value,l==null?void 0:l.text,j,g,k,f,y])},Fs=s=>{const{isInteractive:u,skipDisabledItems:n,activeIndex:r,isRemoteData:i,dataSourceListItems:l,fields:o,onChange:b,setTextValue:a,setActiveIndex:C,dropdownbaseRef:g,showPopup:f,hidePopup:y,setIsSpanFocused:L,setDropdownValue:S,prefetchData:w,currentItemData:x,setItemData:D,onScroll:k,virtualization:$,filterable:O}=s,[j,c]=e.useState(null),d=e.useCallback(m=>m.map(I=>{const N=(o==null?void 0:o.disabled)&&typeof I=="object"&&ae(o.disabled,I)===!0,H=typeof I=="object"&&!!ae("isHeader",I);return{item:I,isDisabled:!!N,isHeader:H}}),[o==null?void 0:o.disabled]),v=e.useCallback(m=>m!=null&&m.isHeader?!0:!!(m!=null&&m.isDisabled),[]),h=e.useCallback((m,I,N)=>{if(!n)return Math.max(0,Math.min(m.length-1,I+N));let H=I;const P=m.length;for(let ee=0;ee<P&&(H+=N,!(H<0||H>=m.length));ee++)if(!v(m[H]))return H;return-1},[n,v]),R=e.useCallback((m,I=!1)=>{if(!n)return I?m.length-1:0;if(I){for(let N=m.length-1;N>=0;N--)if(!v(m[N]))return N;return-1}else{for(let N=0;N<m.length;N++)if(!v(m[N]))return N;return-1}},[n,v]),V=e.useCallback((m,I)=>{if(!n||!v(m[I]))return I;let N=I,H=I;for(;N<m.length-1||H>0;){if(N<m.length-1&&(N++,!v(m[N])))return N;if(H>0&&(H--,!v(m[H])))return H}return-1},[n,v]),A=m=>String(Ee(m.item,"text",o)??""),T=(m,I,N)=>{if(!m||m.length===0||!I)return-1;const H=m.length;let P=Math.max(-1,Math.min(H-1,N));for(let ee=0;ee<H;ee++){P=(P+1)%H;const ye=m[P];if(!v(ye)&&A(ye).toLowerCase().startsWith(I))return P}return-1},B=(m,I,N)=>{const H=Ee(m.item,"value",o);a==null||a(String(Ee(m.item,"text",o))),H!==void 0&&(S==null||S(H),D==null||D(m.item)),b&&H!==void 0&&b({event:I,previousItemData:N==null?void 0:N.item,value:H,itemData:m.item})},q=()=>{var I,N;const m=g.current?(N=(I=g.current)==null?void 0:I.getFilteredListData)==null?void 0:N.call(I):null;return Array.isArray(m)?d(m):l},K=m=>{const I=typeof x=="object"&&x!==null?ae((o==null?void 0:o.value)??"value",x):x,N=m.findIndex(H=>String(Ee(H.item,"value",o))===String(I??""));return N!==-1||x?N:r??-1},U=e.useCallback((m,I,N,H)=>{C(N);const P=H>-1?I[H]:void 0;if(B(I[N],m,P),N>=I.length-1&&$&&k){const ye=Array.isArray(I)?I.length:0,xe=$.overscanCount??5,De=$.pageSize+xe;k({originalEvent:m.nativeEvent,startIndex:ye,count:De})}},[C,B,$,k]),ie=e.useCallback(m=>{const I=m.key.toLowerCase(),N=P=>{var xe,De;if(P.length===0)return;const ee=K(P),ye=T(P,I,ee);ye!==-1&&(U(m,P,ye,ee),g.current&&Bt(ye,(De=(xe=g.current)==null?void 0:xe.getScrollContainer)==null?void 0:De.call(xe)))};if((!l||l.length===0)&&w&&i){Te(m);return}const H=q();H&&N(H)},[r,i,l,w,d,g,C,n,B,x,o,U]),re=e.useCallback(m=>{var P,ee;const I=q();if(!I||I.length===0)return c(null),null;const N=T(I,m.toLowerCase(),-1);let H=null;return N===-1?c(null):(c(I[N]),H=String(Ee(I[N].item,"text",o)),g.current&&Bt(N,(ee=(P=g.current)==null?void 0:P.getScrollContainer)==null?void 0:ee.call(P))),H},[q,T,c,g]),Me=m=>m==="ArrowDown"||m==="ArrowUp"||m==="PageUp"||m==="PageDown"||m==="Home"||m==="End",Ne=e.useCallback((m,I,N)=>{if(j){const P=I.findIndex(ee=>String(Ee(ee.item,"value",o))===String(Ee(j.item,"value",o)));return c(null),P}const H=I.length;switch(m){case"ArrowDown":return h(I,N,1);case"ArrowUp":return h(I,N,-1);case"PageDown":{const P=N!==-1?N:0,ee=Math.max(0,Math.min(H-1,P+10));return V(I,ee)}case"PageUp":{const P=N!==-1?N:H-1,ee=Math.max(0,Math.min(H-1,P-10));return V(I,ee)}case"Home":return R(I,!1);case"End":return R(I,!0);default:return N}},[h,V,R,Ee,j]),Te=m=>{w==null||w().then(I=>{if(!I||I.length===0)return;const N=d(I);z(m,N,m.key)})},z=e.useCallback((m,I,N)=>{var ee,ye;if(I.length===0)return;const H=K(I),P=Ne(N,I,H);P!==H&&P>=0&&P<I.length&&(U(m,I,P,H),g.current&&Bt(P,(ye=(ee=g.current)==null?void 0:ee.getScrollContainer)==null?void 0:ye.call(ee)))},[r,C,Ne,B,x,o,U]),Y=(m,I)=>{I?(f(m),L(!0),m.preventDefault()):y(m),L(!0)};return{keyActionHandler:e.useCallback(m=>{var N;if(!u)return;if(m.altKey){if(m.key==="ArrowDown"){Y(m,!0);return}if(m.key==="ArrowUp"){Y(m,!1),m.preventDefault();return}}if(m.key===" "){Y(m,!0);return}else if(m.key==="Enter")if(m.preventDefault(),g!=null&&g.current){const H=q();if(!H)return;let P=K(H);if(j){P=H.findIndex(ye=>String(Ee(ye.item,"value",o))===String(Ee(j.item,"value",o))),c(null);const ee=(N=g.current.externalFilterInputRef)==null?void 0:N.current;ee&&ee.setSelectionRange(ee.value.length,ee.value.length)}P&&P>=0&&P<H.length&&U(m,H,P,P),Y(m,!1);return}else{Y(m,!0);return}else if(m.key==="Tab"||m.key==="Escape"){if(Y(m,!1),m.key==="Tab"){L(!1);return}m.preventDefault(),m.stopPropagation();return}if(m.key.length===1&&!m.ctrlKey&&!m.metaKey&&!m.altKey&&!O){m.preventDefault(),ie(m);return}if(Me(m.key)){if(m.preventDefault(),(!l||l.length===0)&&w&&i){Te(m);return}const H=q();H&&z(m,H,m.key)}},[u,g,f,y,L,l,w,d,z,r,i,x,Y,q,Te,j,c,re]),handleCustomTypeAhead:re,typeAheadMatchedItem:j,setTypeAheadMatchedItem:c}},Ms=({valueTemplate:s,dropdownValue:u,dataSource:n,fields:r,allowObjectBinding:i=!1,onRenderedChange:l})=>{const o=e.useMemo(()=>{if(!s||u==null||!Array.isArray(n)||n.length===0)return null;const b=n[0];return typeof b=="string"||typeof b=="number"||typeof b=="boolean"?new Map(n.map(f=>[f,f])).get(u)??null:n.find(g=>{const f=r.value?ae(r.value,g):g;return i?g===u:f===u||f!=null&&u!=null&&f.toString()===u.toString()})??null},[s,u,n,r,i]);return e.useEffect(()=>{l&&l(o!==null&&!!s)},[l,o,s]),!s||o===null?null:typeof s=="function"?t.jsx(t.Fragment,{children:s(o)}):t.jsx(t.Fragment,{children:s})},As=e.memo(Ms),yr=e.forwardRef((s,u)=>{const{id:n=`dropdown_${e.useId()}`,dataSource:r=[],fields:i,value:l,defaultValue:o,placeholder:b,disabled:a,readOnly:C,labelMode:g="Never",size:f=rt.Medium,variant:y=nt.Standard,className:L,required:S,inputProps:w,clearButton:x,dropdownIcon:D=t.jsx(Pr,{}),loading:k,popupSettings:$,open:O,defaultOpen:j,query:c,sortOrder:d=Ft.None,allowObjectBinding:v,customValue:h,itemTemplate:R,headerTemplate:V,footerTemplate:A,groupTemplate:T,noRecordsTemplate:B,onErrorTemplate:q,virtualization:K,ignoreCase:U,ignoreAccent:ie,filterable:re,filterType:Me,debounceDelay:Ne,valid:Te,validationMessage:z,validityStyles:Y,skipDisabledItems:ue=!0,autofill:m,autoHighlight:I,resizable:N,filterPlaceholder:H,onResize:P,onOpen:ee,onClose:ye,onDataRequest:xe,onDataLoad:De,onError:Qe,onScroll:we,onChange:Ae,onFilter:pe,onCustomValueSelect:Je,componentClassName:et,spanClickable:X,inputClassName:At,valueTemplate:Ie,localeComponentName:mt,ariaLabel:Tt,...st}=s,be=e.useMemo(()=>r instanceof Ke,[r]),{dir:Re,locale:at}=gn(),[Rt,It]=ks({defaultValue:o}),{isPopupOpen:ce,textValue:Ve,isSpanFocused:it,isLoading:kt,itemData:He,dropdownValue:ze,activeIndex:ct}=Rt,{setTextValue:ke,setIsSpanFocused:fe,setIsPopupOpen:ut,setIsLoading:he,setDropdownValue:Be,setActiveIndex:$e,setItemData:Oe}=It,se=e.useRef(null),Ue=e.useRef(null),dt=e.useRef(null),te=e.useRef(null),Pe=e.useRef(null),Ye=e.useRef(!1),Et=e.useRef(null),ht=e.useRef(null),[Lt,on]=e.useState(1e3),[gt,ln]=e.useState({height:0,width:0}),[_t,p]=e.useState(!1),E=e.useMemo(()=>!!(Ie&&_t),[Ie,_t]),M=e.useMemo(()=>({value:l,defaultValue:o,placeholder:b,disabled:a,className:L,labelMode:g,size:f,variant:y,required:S,inputProps:w,clearButton:x,loading:k}),[l,o,b,a,L,g,f,y,S,w,x,k]);e.useImperativeHandle(u,()=>({...M,element:se.current}),[M,se]);const _=e.useCallback(F=>{ln({height:F.height,width:F.width}),P==null||P(F)},[P]),W=e.useMemo(()=>({enabled:N,handles:["SouthEast"],onResize:_}),[N,_]),{renderResizeHandles:ne}=_r(Ue,W);e.useEffect(()=>{const F=$==null?void 0:$.zIndex;let G=typeof F=="number"&&Number.isFinite(F)?F:1e3;if(G===1e3&&dt.current){const le=Number($r(dt.current));Number.isFinite(le)&&(G=le)}on(Math.max(3,G+1))},[$==null?void 0:$.zIndex,dt]);const{isInputValid:Fe}=gs({dropdownValue:ze,inputElementRef:se,required:S,valid:Te,validationMessage:z}),Z=e.useMemo(()=>({text:i==null?void 0:i.text,value:(i==null?void 0:i.value)??"value",disabled:(i==null?void 0:i.disabled)??"disabled",groupBy:i==null?void 0:i.groupBy,htmlAttributes:i==null?void 0:i.htmlAttributes}),[i==null?void 0:i.text,i==null?void 0:i.value,i==null?void 0:i.groupBy,i==null?void 0:i.disabled,i==null?void 0:i.htmlAttributes]),Q=e.useMemo(()=>({position:{X:"left",Y:"bottom"},collision:Re==="rtl"?{X:Kt.Fit,Y:Kt.Flip}:{X:Kt.Flip,Y:Kt.Flip},autoReposition:!0,width:"100%",height:"300px",...$}),[$,Re]),{showPopup:ve,hidePopup:J,setPopupWidth:qe,setPopupHeight:Se,popupClassNames:Le}=Es({isPopupOpen:ce,open:O,setIsPopupOpen:ut,setIsSpanFocused:fe,spanElementRef:dt,inputElementRef:se,popupRef:Ue,onOpen:ee,onClose:ye,popupWidth:Q.width,popupHeight:Q.height,className:L}),ft=e.useMemo(()=>{if(K)return{...K,scrollMode:K.scrollMode??Mt.FetchAll}},[K]),ot=e.useMemo(()=>{const F=Pe.current?Pe.current:r;if(!Array.isArray(F)||F.length===0)return[];const G=F.filter(de=>de!=null);return G.length===0?[]:pr(G,Z,d,c??new Ce).map(de=>{const me=Z.disabled&&typeof de=="object"&&ae(Z.disabled,de)===!0,ge=typeof de=="object"&&!!ae("isHeader",de);return{item:de,isDisabled:!!me,isHeader:ge}})},[Pe.current,r,Z,d,c]),Nt=e.useCallback(async()=>{if(!be||Ye.current)return null;const F=r;try{he(!0),xe==null||xe({data:F,query:c??new Ce});const G=await F.executeQuery(c??new Ce),le=Array.isArray(G==null?void 0:G.result)?G.result:[];return Ye.current=!0,De==null||De({data:le}),he(!1),le}catch(G){return he(!1),Qe==null||Qe(G),null}},[be,r,c,he,xe,De,Qe]),an=e.useCallback(async()=>{const F=await Nt();if(Array.isArray(F)){const G=F.filter(le=>le!=null);return Pe.current=G,G}return null},[Nt]);Ns({value:l,defaultValue:o,dataSource:r,dataSourceListItems:ot,fields:Z,isValueControlled:l!==void 0,allowObjectBinding:v,dropdownbaseRef:te,dropdownValue:ze,setDropdownValue:Be,setTextValue:ke,setActiveIndex:$e,setItemData:Oe,prefetchData:an});const{keyActionHandler:$t,handleCustomTypeAhead:bn,typeAheadMatchedItem:qt,setTypeAheadMatchedItem:Cn}=Fs({isInteractive:!a&&!C,skipDisabledItems:ue,activeIndex:ct,onChange:Ae,setActiveIndex:$e,isRemoteData:be,dataSourceListItems:ot,fields:Z,dropdownbaseRef:te,setTextValue:ke,showPopup:ve,hidePopup:J,setIsSpanFocused:fe,setDropdownValue:Be,prefetchData:an,currentItemData:He,setItemData:Oe,onScroll:we,virtualization:ft,filterable:re}),zt=e.useCallback(F=>{var lt,yt,Vt,We,Wt;const G=se.current?se.current.value:Ve??"";if(!G)return;const le=(yt=(lt=te==null?void 0:te.current)==null?void 0:lt.getFilteredListData)==null?void 0:yt.call(lt),de=Array.isArray(le)&&le.length>0?le:(ot==null?void 0:ot.map(Ge=>Ge.item))??[],me=de.find(Ge=>String(Ee(Ge,"text",Z))===G);let ge=null,_e=null,tt=null,Xe="";me&&(ge=Ee(me,"value",Z),_e=me,tt=hr(me,de,Z),Xe=String(Ee(me,"text",Z)),Cn(null)),!me&&h&&(ge=_e=Xe=G),!me&&!h&&(ge=_e=null),Be(ge),Oe(_e),$e(tt),ke(Xe),!(!me&&!h)&&(h&&(Je==null||Je(Xe)),Ae&&Ae({event:F,previousItemData:He,value:ge,itemData:_e}),ce&&(J==null||J()),m&&((Wt=se.current)==null||Wt.setSelectionRange((Vt=se.current)==null?void 0:Vt.value.length,(We=se.current)==null?void 0:We.value.length)))},[h,se,Ve,te,ot,Z,Be,m,Oe,$e,ke,Je,Ae,He,J,ce,Cn]);e.useEffect(()=>{O===void 0&&j&&(fe(!0),ve==null||ve())},[]),e.useEffect(()=>{X&&ce&&re&&te.current&&requestAnimationFrame(()=>{fe(!1)})},[ce,re,X]),e.useEffect(()=>{var F;O!==void 0&&(ut(O),fe(O),O&&((F=se.current)==null||F.focus()))},[O,se,ut,fe]),e.useEffect(()=>{Et.current===null&&(Et.current=JSON.stringify(s.dataSource)??null),ht.current===null&&(ht.current=JSON.stringify(s.fields)??null)},[]),e.useEffect(()=>{(JSON.stringify(s.dataSource)!==Et.current||JSON.stringify(s.fields)!==ht.current)&&(Et.current=JSON.stringify(s.dataSource)??null,ht.current=JSON.stringify(s.fields)??null,Pe.current=null,Ye!=null&&Ye.current&&(Ye.current=!1,an()),he(!1))},[s.dataSource,s.fields]),e.useEffect(()=>{X&&be&&ce&&!Ye.current&&he(!0)},[be,ce,X,he]);const xr=e.useCallback(F=>{X||F.button===2||a||C||(fe(!ce),F.preventDefault(),be&&ce&&he(!1),ce?J(F):ve(F))},[a,ce,be,C,X,fe,he,J,ve]),vr=e.useCallback(F=>{var me;const G=F.target.value;if(ke(G),X)return;const le=F.nativeEvent,de=!!(le&&le.inputType&&le.inputType.toLowerCase().includes("delete"));if(de&&(Oe(null),Be(null),$e(null)),ce||ve(F.nativeEvent),re)(me=te.current)==null||me.filter([],void 0,void 0,F),m&&!de&&requestAnimationFrame(()=>{var _e,tt;const ge=(tt=(_e=te==null?void 0:te.current)==null?void 0:_e.getFilteredListData)==null?void 0:tt.call(_e);if(se.current&&ge&&(ge==null?void 0:ge.length)>0){const Xe=String(Ee(ge[0],"text",Z));ke(Xe),requestAnimationFrame(()=>{if(se.current){const lt=G.length,yt=Xe.length;se.current.setSelectionRange(lt,yt)}})}});else if(!de){const ge=bn(G);m&&ge&&(ke(ge),requestAnimationFrame(()=>{if(se.current){const _e=G.length,tt=ge.length;se.current.setSelectionRange(_e,tt)}}))}},[ke,te,X,re,bn,ce,m,se,Z]),Sr=e.useCallback(()=>{var F,G;if(fe(!0),X){const le=(F=se.current)==null?void 0:F.value.length;le&&((G=se.current)==null||G.setSelectionRange(le,le))}},[fe,X,se]),br=e.useCallback(F=>{var de,me,ge;if(a)return;const G=F.relatedTarget,le=!!(G&&(Ue!=null&&Ue.current)&&((me=(de=Ue==null?void 0:Ue.current)==null?void 0:de.element)!=null&&me.contains(G)));!X&&!le&&zt(F),(ge=se.current)!=null&&ge.contains(G)||fe(!1)},[a,se,fe,zt,X,Ue]),Cr=e.useCallback(F=>{var G;F.preventDefault(),F.stopPropagation(),ke(""),Be(null),$e(null),Oe(null),!X&&re&&((G=te.current)==null||G.filter([],void 0,void 0,void 0,F)),Ae&&Ae({event:F,previousItemData:He,value:null,itemData:null})},[Ae,He,ke,Be,$e,Oe]),jr=e.useCallback(F=>{if(!X){if(F.key==="Enter"&&Ve&&!He&&!qt){zt(F),F.preventDefault(),F.stopPropagation();return}if(F.key.length===1&&!F.ctrlKey&&!F.metaKey&&!F.altKey&&!re)return}$t(F)},[$t,re,X,zt,Ve,He,qt]),jn=e.useCallback(F=>{var de,me,ge,_e,tt,Xe,lt,yt;const le=F.target.closest(".sf-list-item");if(le){const Vt=(de=le.dataset)==null?void 0:de.value;if(!oe(Vt)){const We=(ge=(me=te==null?void 0:te.current)==null?void 0:me.getFormattedValue)==null?void 0:ge.call(me,Vt),Wt=((_e=te==null?void 0:te.current)==null?void 0:_e.getTextByValue(We))||"";ke==null||ke(Wt),We!==void 0&&(Be==null||Be(We));const Ge=(tt=te==null?void 0:te.current)==null?void 0:tt.getDataByValue(We),Nn=(lt=(Xe=te==null?void 0:te.current)==null?void 0:Xe.getFilteredListData)==null?void 0:lt.call(Xe);if(Nn){const Fn=Nn.findIndex(Ar=>String(Ee(Ar,"value",Z))===String(We??""));Fn>=0&&($e==null||$e(Fn))}let Gt=We;Ge!=null&&Ht(Ge)?(Oe(Ge),Be(Ge),Gt=Ge):(Oe(Ge),We!=null&&(Be(We),Gt=We)),Ae&&Gt!==void 0&&Ae({event:F,previousItemData:He,value:Gt,itemData:Ge||null})}J==null||J(),(yt=se==null?void 0:se.current)==null||yt.focus()}},[J,ke,Be,te,se,Z,$e,Oe,He,Ae]),Dn=e.useCallback(F=>{X||he(!0),xe==null||xe(F)},[he,xe,X]),wn=e.useCallback((F,G)=>{if(De==null||De(F),he(!1),!G){if(Array.isArray(F.data)){const le=F.data.filter(de=>de!=null);Pe.current=le}else Pe.current=null;if(Ye.current=!0,te.current&&ze!==null&&ze!==void 0&&te.current.getDataByValue(ze)!==void 0){const de=te.current.getTextByValue(ze);ke(de)}}},[De,he,te,ze,ke]),Tn=e.useCallback(F=>{he(!1),Qe==null||Qe(F)},[he,Qe]),Ut=e.useMemo(()=>!!k&&!ce||kt,[kt,ce,k]),Dr=e.useMemo(()=>{const F=yn(String(mt),{placeholder:b},at);return F.setLocale(at),F.getConstant("placeholder")||b||""},[at,b,mt]),wr=e.useMemo(()=>["sf-input-group sf-control sf-dropdown",et,Ut?"sf-loading":"",a?"sf-disabled":"",Re==="rtl"?"sf-rtl":"",C?"sf-readonly":"",g!=="Never"?qr.FLOATINPUT:"",f===rt.Small?"sf-small":f===rt.Large?"sf-large":"sf-medium",!Fe&&Y?"sf-error":"",y&&y.toLowerCase()!=="standard"?y.toLowerCase()==="outlined"?"sf-outline":`sf-${y.toLowerCase()}`:"",it?"sf-input-focus":"",L].filter(Boolean).join(" "),[a,L,Re,C,g,f,y,it,Fe,Y,Ut,et]),In=e.useMemo(()=>[Re==="rtl"?"sf-rtl":"",Fe?"sf-valid-input":"",At,E?"sf-input-value-template":""].filter(Boolean).join(" "),[Re,Fe,At,E]),Tr=e.useMemo(()=>[Le,N?"sf-dropdown-resizable":""].filter(Boolean).join(" "),[Le]),Ir=e.useMemo(()=>{const{className:F,...G}=w||{},le=[F,In].filter(Boolean).join(" ");return{...G,id:n,className:le,readOnly:X||C,required:S,disabled:a,value:Ve,defaultValue:void 0}},[w,Ve,In,n,C,S,a,X]),kr=e.useMemo(()=>["sf-input-icon sf-ddl-icon",ce?"sf-icon-rotate":"sf-icon-normal"].filter(Boolean).join(" "),[ce]),Er=e.useMemo(()=>({"aria-controls":`${n}_listbox`,"aria-activedescendant":ce&&ct!=null?`${n}_option_${ct}`:void 0,"aria-expanded":O??ce}),[ct,n,O,ce]),kn=e.useCallback(F=>{const G=String(Ee(F,"text",Z)),le=ys(G,Ve);return t.jsx("span",{className:"sf-dd-item",children:le.map((de,me)=>de.highlight?t.jsx("span",{className:"sf-dd-highlight",children:de.text},me):t.jsx("span",{children:de.text},me))})},[Z,Ve,Me,U,ie]),En=e.useMemo(()=>I?R??kn:R,[I,R,kn]),Nr=e.useCallback(F=>{if(!X||F.button===2||a)return;const G=F.target instanceof Element?F.target:null;G&&G.parentElement&&G.parentElement.matches(".sf-clear-icon")||(fe(!ce),F.preventDefault(),kt&&!be&&!k&&he(!1),C||(ce?J(F):ve(F)),be&&ce&&he(!1))},[he,a,C,ce,be,X,fe]),Fr=e.useCallback(()=>t.jsx(As,{valueTemplate:Ie,dropdownValue:ze,dataSource:Array.isArray(r)?r:[],fields:Z,allowObjectBinding:v,onRenderedChange:p}),[Ie,ze,r,Z,v]),Mr=e.useMemo(()=>t.jsx(gr,{id:n,ref:te,dataSource:r,itemData:He,fields:Z,query:c,size:f,sortOrder:d,allowObjectBinding:v,onItemClick:jn,itemTemplate:En,headerTemplate:V,footerTemplate:A,groupTemplate:T,noRecordsTemplate:B,value:ze,onErrorTemplate:q,onError:Tn,onDataRequest:Dn,onDataLoad:wn,activeIndex:ct,remoteCacheRef:Pe,virtualization:ft,onScroll:we,onFilter:pe,externalFilterInputRef:X?void 0:se,ignoreAccent:ie,ignoreCase:U,filterType:Me,debounceDelay:Ne,focusedItem:qt,resizable:N,onResize:P,isDropdownFiltering:re,filterPlaceholder:H,keyActionHandler:X?$t:void 0},"dropdown"),[te,r,Z,c,f,d,jn,En,V,A,T,B,ze,Tn,q,Dn,wn,n,ct,Pe,we,He,v,se,ie,U,Me,Ne,qt,pe,P,N,re,H,X,$t,ft]);return t.jsxs(t.Fragment,{children:[t.jsxs("span",{ref:dt,className:wr,tabIndex:-1,onKeyDown:jr,onMouseDown:Nr,...st,children:[Ie&&t.jsx("span",{className:`sf-input-value ${E?"sf-content":"sf-display-none"}`,children:Fr()}),t.jsx(lr,{id:n,ref:se,type:"text",role:"combobox","aria-haspopup":"listbox","aria-label":Tt,"aria-autocomplete":"list","aria-disabled":a,"aria-readonly":C,placeholder:Dr,floatLabelType:g,required:S,onChange:vr,onFocus:Sr,onBlur:br,...Er,...Ir}),g!=="Never"&&zr(g,it,Ve||"",b,n),x&&ar(Ve&&(it||ce)?Ve:"",Cr),!Ut&&t.jsxs("span",{onMouseDown:xr,"aria-hidden":"true",className:kr,children:[" ",D," "]}),Ut&&t.jsx(xn,{size:f===rt.Small?"16px":"20px",visible:!0})]}),ce&&typeof document<"u"&&Rr.createPortal(t.jsxs(Ur,{ref:Ue,className:Tr,id:`${n}_popup`,relateTo:dt.current,width:gt.width?gt.width:qe(),height:"auto",position:Q.position,zIndex:Lt,collision:Q.collision,open:ce,autoReposition:Q.autoReposition,animation:{show:{name:"FadeIn",duration:100},hide:{name:"FadeOut",duration:100}},offsetX:Q.offsetX,offsetY:Q.offsetY,style:{maxHeight:gt.height?gt.height:Se()},children:[Mr,N&&ne(t.jsx(Wr,{fill:"currentColor"}))]}),document.body)]})});e.memo(yr);const Sn=e.forwardRef((s,u)=>{const{dataSource:n,query:r,fields:i,value:l,placeholder:o="",id:b=`dropdownlist_${e.useId()}`,disabled:a=!1,readOnly:C=!1,popupSettings:g={},allowObjectBinding:f=!1,labelMode:y,open:L,defaultOpen:S,skipDisabledItems:w,defaultValue:x,ignoreCase:D=!0,ignoreAccent:k=!1,filterable:$=!1,filterType:O="StartsWith",filterPlaceholder:j="",debounceDelay:c=0,sortOrder:d,loading:v=!1,size:h,variant:R,inputProps:V={},itemTemplate:A,headerTemplate:T,footerTemplate:B,groupTemplate:q,valueTemplate:K,noRecordsTemplate:U,clearButton:ie=!1,dropdownIcon:re,valid:Me,validationMessage:Ne="",validityStyles:Te=!0,required:z,className:Y,virtualization:ue,onChange:m,onOpen:I,onClose:N,onError:H,onFilter:P,onDataRequest:ee,onDataLoad:ye,onScroll:xe,onErrorTemplate:De,...Qe}=s;e.useEffect(()=>{sr("dropdownlist")},[]);const we=e.useRef(null),Ae=e.useMemo(()=>({dataSource:n,query:r,fields:i,value:l,placeholder:o,id:b,popupSettings:g,allowObjectBinding:f,itemTemplate:A,headerTemplate:T,valueTemplate:K,groupTemplate:q,noRecordsTemplate:U,footerTemplate:B,labelMode:y,open:L,skipDisabledItems:w,ignoreCase:D,ignoreAccent:k,filterable:$,filterType:O,filterPlaceholder:j,sortOrder:d,clearButton:ie,dropdownIcon:re,loading:v,size:h,variant:R}),[n,i,l,o,b,g,f]);return e.useImperativeHandle(u,()=>{var pe;return{...Ae,element:(pe=we.current)==null?void 0:pe.element}},[Ae,we]),t.jsx(yr,{...Qe,id:b,ref:we,componentClassName:"sf-ddl",spanClickable:!0,inputClassName:"sf-dropdown-list",localeComponentName:"dropdownList",ariaLabel:"dropdownlist",dataSource:n,query:r,fields:i,value:l,placeholder:o,disabled:a,readOnly:C,popupSettings:g,allowObjectBinding:f,labelMode:y,open:L,defaultOpen:S,skipDisabledItems:w,defaultValue:x,ignoreCase:D,ignoreAccent:k,filterable:$,filterType:O,filterPlaceholder:j,debounceDelay:c,sortOrder:d,loading:v,size:h,variant:R,inputProps:V,itemTemplate:A,headerTemplate:T,footerTemplate:B,groupTemplate:q,valueTemplate:K,noRecordsTemplate:U,clearButton:ie,dropdownIcon:re,valid:Me,validationMessage:Ne,validityStyles:Te,required:z,className:Y,virtualization:ue,onChange:m,onOpen:I,onClose:N,onError:H,onFilter:P,onDataRequest:ee,onDataLoad:ye,onScroll:xe,onErrorTemplate:De})});e.memo(Sn);const dn=({locale:s="en-US"})=>{const u=e.useRef(null),n=e.useRef({}),r={dataSource:wt,fields:{id:"Id",subject:"Subject",location:"Location",description:"Description",startTime:"StartTime",endTime:"EndTime",isAllDay:"IsAllDay",isBlock:"IsBlock",isReadonly:"IsReadonly",priority:"Priority"}},i=o=>{o.data={...o.data,...n.current}},l=o=>{const{action:b,data:a,originalData:C}=o,[g,f]=e.useState({Subject:"",Location:"",Description:"",StartTime:null,EndTime:null,IsAllDay:!1,Priority:null});e.useEffect(()=>{n.current=g},[g]);const y=(w,x)=>{if(!w&&!x)return null;const D=w?new Date(w.getTime()):new Date(x.getTime()),k=x??w;return k?D.setHours(k.getHours(),k.getMinutes(),0,0):D.setHours(0,0,0,0),D};e.useEffect(()=>{if(open)if(b==="Edit"&&C)f({Subject:C.subject??"",Location:C.location??"",Description:C.description??"",StartTime:C.startTime??null,EndTime:C.endTime??null,IsAllDay:!!C.isAllDay,Priority:C.priority??null});else{const w=y((a==null?void 0:a.startTime)??null,(a==null?void 0:a.startTime)??null),x=y((a==null?void 0:a.endTime)??null,(a==null?void 0:a.endTime)??null);f({Subject:"",Location:"",Description:"",StartTime:w,EndTime:x,IsAllDay:!1,Priority:null})}},[open,b,C,a==null?void 0:a.startTime,a==null?void 0:a.endTime]);const L=[{Id:"game1",Game:"Badminton"},{Id:"game2",Game:"Football"},{Id:"game3",Game:"Tennis"},{Id:"game4",Game:"Cricket"}],S={text:"Game",value:"Id"};return t.jsx(xt,{...o,children:t.jsx("div",{className:"custom-editor-form-container",children:t.jsx("div",{style:{padding:"16px"},children:t.jsxs(ir,{id:"customEventForm",rules:{},children:[t.jsx(je,{name:"event-priority",children:t.jsx(Sn,{id:"priority",placeholder:"Select a game",dataSource:L,fields:S,value:g.Priority??null,onChange:w=>{f(x=>({...x,priority:w.value}))},className:"custom-editor-dropdownlist"})}),t.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"20px"},children:[t.jsx(je,{name:"event-title",children:t.jsx(Ot,{value:g.Subject||"",onChange:w=>f(x=>({...x,Subject:w.value})),placeholder:"Enter event title"})}),t.jsx(je,{name:"event-location",children:t.jsx(Ot,{value:g.Location||"",onChange:w=>f(x=>({...x,Location:w.value})),placeholder:"Location"})})]}),t.jsx("div",{className:"sf-description-row",children:t.jsx(je,{name:"description",children:t.jsx(cr,{width:"100%",value:g.Description||"",onChange:w=>f(x=>({...x,Description:w.value})),placeholder:"Enter event details, participants, etc.",className:"sf-event-description"})})}),t.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"20px"},children:[t.jsx(je,{name:"event-startDate",children:t.jsx(Pt,{placeholder:"Start Date",value:g.StartTime??(a==null?void 0:a.startTime)??null,format:"dd MMM yyyy",onChange:w=>{const x=w.value?new Date(w.value):null;f(D=>{const k=y(x,D.StartTime??null);return{...D,StartTime:k}})}})}),!g.IsAllDay&&t.jsx(je,{name:"event-startTime",children:t.jsx(rn,{placeholder:"Start Time",format:"HH:mm",step:30,value:g.StartTime??(a==null?void 0:a.startTime)??null,onChange:w=>{const x=w.value?new Date(w.value):null;f(D=>{const k=y(D.StartTime??null,x);return{...D,StartTime:k}})}})})]}),t.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"20px"},children:[t.jsx(je,{name:"event-endDate",children:t.jsx(Pt,{placeholder:"End Date",value:g.EndTime??(a==null?void 0:a.endTime)??null,format:"dd MMM yyyy",onChange:w=>{const x=w.value?new Date(w.value):null;f(D=>{const k=y(x,D.EndTime??null);return{...D,EndTime:k}})}})}),!g.IsAllDay&&t.jsx(je,{name:"event-endTime",children:t.jsx(rn,{placeholder:"End Time",value:g.EndTime??(a==null?void 0:a.endTime)??null,format:"HH:mm",step:30,onChange:w=>{const x=w.value?new Date(w.value):null;f(D=>{const k=y(D.EndTime??null,x);return{...D,EndTime:k}})}})})]}),t.jsx("div",{style:{display:"flex",gap:"24px",alignItems:"center",marginBottom:"20px"},children:t.jsx(je,{name:"event-isAllDay",children:t.jsx(ur,{label:"Full Day",checked:!!g.IsAllDay,onChange:w=>f(x=>({...x,IsAllDay:w.value}))})})})]})})})})};return t.jsx("div",{className:"control-section",children:t.jsx("div",{className:"scheduler-control",children:t.jsx(vt,{locale:s,children:t.jsxs(St,{ref:u,height:"550px",width:"100%",defaultSelectedDate:new Date(2017,10,1),defaultView:"Week",eventSettings:r,editor:l,onEditorSubmit:i,children:[t.jsx(bt,{}),t.jsx(Ct,{}),t.jsx(jt,{}),t.jsx(Dt,{})]})})})})};try{dn.displayName="ReorderFieldsExample",dn.__docgenInfo={description:"",displayName:"ReorderFieldsExample",props:{locale:{defaultValue:{value:"en-US"},description:"",name:"locale",required:!1,type:{name:"string"}}}}}catch{}const fn=({locale:s="en-US"})=>{const u=e.useRef(null),n={dataSource:wt,fields:{id:"Id",subject:"Subject",location:"Location",description:"Description",startTime:"StartTime",endTime:"EndTime",isAllDay:"IsAllDay",isBlock:"IsBlock",isReadonly:"IsReadonly"}},r=l=>{const o=t.jsx("div",{children:"Quick event editor"});return t.jsx(xt,{...l,dialogProps:{open:l.open,header:o},style:{width:"400px"}})},i=l=>{const o=t.jsx("div",{children:"Detailed Event Editor (Month View)"});return t.jsx(xt,{...l,dialogProps:{open:l.open,header:o},style:{width:"650px"}})};return t.jsx("div",{className:"control-section",children:t.jsx("div",{className:"scheduler-control",children:t.jsx(vt,{locale:s,children:t.jsxs(St,{ref:u,height:"550px",width:"100%",defaultSelectedDate:new Date(2017,10,1),defaultView:"Month",eventSettings:n,editor:r,children:[t.jsx(bt,{}),t.jsx(Ct,{}),t.jsx(jt,{}),t.jsx(Dt,{editor:i})]})})})})};try{fn.displayName="ViewLevelOverride",fn.__docgenInfo={description:"",displayName:"ViewLevelOverride",props:{locale:{defaultValue:{value:"en-US"},description:"",name:"locale",required:!1,type:{name:"string"}}}}}catch{}const pn=({locale:s="en-US"})=>{const u=e.useRef(null),n=e.useRef({}),r={dataSource:wt,fields:{id:"Id",subject:"Subject",location:"Location",description:"Description",startTime:"StartTime",endTime:"EndTime",isAllDay:"IsAllDay",isBlock:"IsBlock",isReadonly:"IsReadonly"}},i=o=>{o.data={...o.data,...n.current}},l=o=>{const{action:b,data:a,originalData:C}=o,[g,f]=e.useState({subject:"",startDate:null});e.useEffect(()=>{n.current=g},[g]),e.useEffect(()=>{open&&f(b==="Edit"&&C?{subject:C.subject??"",startDate:C.startTime?new Date(C.startTime):a!=null&&a.startTime?a==null?void 0:a.startTime:null}:{subject:"",startDate:a!=null&&a.startTime?new Date(a==null?void 0:a.startTime):null})},[open,b,C,a==null?void 0:a.startTime]);const y=t.jsx(je,{name:"subject",children:t.jsx(Ot,{placeholder:"Enter event title...",value:g.subject??"",onChange:w=>f(x=>({...x,subject:w.value})),className:"custom-subject-field",labelMode:"Always"})}),L=t.jsx(je,{name:"startDate",children:t.jsx(Pt,{placeholder:"Select start date",value:g.startDate??(a==null?void 0:a.startTime)??null,onChange:w=>f(x=>({...x,startDate:w.value?new Date(w.value):null})),className:"custom-date-field",labelMode:"Always"})}),S=[{name:"subject",component:y},{name:"location",visible:!1},{name:"startDate",component:L},{name:"startTime",visible:!1},{name:"endDate"},{name:"endTime",visible:!1},{name:"isAllDay",visible:!1},{name:"description",visible:!1}];return t.jsx(xt,{...o,fields:S})};return t.jsx("div",{className:"control-section",children:t.jsx("div",{className:"scheduler-control",children:t.jsx(vt,{locale:s,children:t.jsxs(St,{ref:u,height:"550px",width:"100%",defaultSelectedDate:new Date(2017,10,1),defaultView:"Month",eventSettings:r,editor:l,onEditorSubmit:i,children:[t.jsx(bt,{}),t.jsx(Ct,{}),t.jsx(jt,{}),t.jsx(Dt,{})]})})})})};try{pn.displayName="HideFieldsAndCustomField",pn.__docgenInfo={description:"",displayName:"HideFieldsAndCustomField",props:{locale:{defaultValue:{value:"en-US"},description:"",name:"locale",required:!1,type:{name:"string"}}}}}catch{}const mn=({locale:s="en-US"})=>{const u=e.useRef(null),n=e.useRef({}),r={dataSource:wt,fields:{id:"Id",subject:"Subject",location:"Location",description:"Description",startTime:"StartTime",endTime:"EndTime",isAllDay:"IsAllDay",priority:"Priority"}},i=[{Id:"game1",Game:"Badminton"},{Id:"game2",Game:"Football"},{Id:"game3",Game:"Tennis"},{Id:"game4",Game:"Cricket"}],l={text:"Game",value:"Id"},o=a=>{if(a.data={...a.data,...n.current},!a.data.priority){alert("Please select a game in dropdown!"),a.cancel=!0;return}a.data.Subject&&typeof a.data.Subject=="string"&&(a.data.Subject=a.data.Subject.toUpperCase())},b=a=>{const{action:C,data:g,originalData:f}=a,[y,L]=e.useState({Subject:"",Location:"",Description:"",StartTime:null,EndTime:null,IsAllDay:!1,Priority:null});e.useEffect(()=>{n.current=y},[y]);const S=(x,D)=>{if(!x&&!D)return null;const k=x?new Date(x.getTime()):new Date(D.getTime()),$=D??x;return $?k.setHours($.getHours(),$.getMinutes(),0,0):k.setHours(0,0,0,0),k};e.useEffect(()=>{if(open)if(C==="Edit"&&f)L({Subject:f.subject??"",Location:f.location??"",Description:f.description??"",StartTime:f.startTime?new Date(f.startTime):null,EndTime:f.endTime?new Date(f.endTime):null,IsAllDay:!!f.isAllDay,Priority:f.priority??null});else{const x=S(g.startTime??null,g.startTime??null),D=S(g.endTime??null,g.endTime??null);L({Subject:"",Location:"",Description:"",StartTime:x,EndTime:D,IsAllDay:!1,Priority:null})}},[open,C,f,g.startTime,g.endTime]);const w=x=>{if(!x.value)return;const D=new Date(x.value);L(k=>{const $=S(D,k.StartTime??null),O=S(D,k.EndTime??null);return{...k,StartTime:$,EndTime:O}})};return t.jsx(xt,{...a,dialogProps:{open:a.open,header:a.action==="Add"?"Edit Appointment":"New Appointment",animation:{effect:"FadeZoom",duration:400,delay:0}},style:{width:"900px",minHeight:"520px"},children:t.jsxs("div",{className:"custom-editor-form-container",style:{display:"flex"},children:[t.jsx("div",{style:{padding:"16px"},children:t.jsxs(ir,{id:"customEventForm",rules:{},children:[t.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"20px"},children:[t.jsx(je,{name:"event-title",children:t.jsx(Ot,{value:y.Subject||"",onChange:x=>L(D=>({...D,Subject:x.value})),placeholder:"Enter event title"})}),t.jsx(je,{name:"event-location",children:t.jsx(Ot,{placeholder:"Location",value:y.Location||"",onChange:x=>L(D=>({...D,Location:x.value}))})})]}),t.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"20px",flexWrap:"wrap"},children:[t.jsx(je,{name:"event-startDate",children:t.jsx(Pt,{placeholder:"Start Date",value:y.StartTime??g.startTime??null,onChange:x=>{const D=x.value?new Date(x.value):null;L(k=>({...k,StartTime:S(D,k.StartTime??null)}))},format:"dd MMM yyyy"})}),!y.IsAllDay&&t.jsx(je,{name:"event-startTime",children:t.jsx(rn,{placeholder:"Start Time",value:y.StartTime??g.startTime??null,onChange:x=>{const D=x.value?new Date(x.value):null;L(k=>({...k,StartTime:S(k.StartTime??null,D)}))},format:"HH:mm",step:30})}),t.jsx(je,{name:"event-endDate",children:t.jsx(Pt,{placeholder:"End Date",value:y.EndTime??g.endTime??null,onChange:x=>{const D=x.value?new Date(x.value):null;L(k=>({...k,EndTime:S(D,k.EndTime??null)}))},format:"dd MMM yyyy"})}),!y.IsAllDay&&t.jsx(je,{name:"event-endTime",children:t.jsx(rn,{placeholder:"End Time",value:y.EndTime??g.endTime??null,onChange:x=>{const D=x.value?new Date(x.value):null;L(k=>({...k,EndTime:S(k.EndTime??null,D)}))},format:"HH:mm",step:30})})]}),t.jsx("div",{style:{marginBottom:"20px"},children:t.jsx(je,{name:"event-isAllDay",children:t.jsx(ur,{label:"Full Day",checked:!!y.IsAllDay,onChange:x=>L(D=>({...D,IsAllDay:x.value}))})})}),t.jsx("div",{children:t.jsx(je,{name:"event-priority",children:t.jsx(Sn,{id:"priority",className:"custom-editor-dropdownlist",placeholder:"Select a game",dataSource:i,fields:l,value:y.Priority??null,onChange:x=>L(D=>({...D,priority:x.value}))})})}),t.jsx(je,{name:"event-notes",children:t.jsx(cr,{className:"custom-event-notes",value:y.Description||"",onChange:x=>L(D=>({...D,Description:x.value})),placeholder:"Enter event details, notes, etc.",labelMode:"Auto"})})]})}),t.jsx("div",{className:"custom-editor-popup-calender",children:t.jsx(Gr,{onChange:w,value:y.StartTime??g.startTime??null})})]})})};return t.jsx("div",{className:"control-section",children:t.jsx("div",{className:"scheduler-control",children:t.jsx(vt,{locale:s,children:t.jsxs(St,{ref:u,height:"550px",width:"100%",defaultSelectedDate:new Date(2017,10,1),defaultView:"Week",eventSettings:r,editor:b,onEditorSubmit:o,children:[t.jsx(bt,{}),t.jsx(Ct,{}),t.jsx(jt,{}),t.jsx(Dt,{})]})})})})};try{mn.displayName="CustomReactiveEditorExample",mn.__docgenInfo={description:"",displayName:"CustomReactiveEditorExample",props:{locale:{defaultValue:{value:"en-US"},description:"",name:"locale",required:!1,type:{name:"string"}}}}}catch{}const hn=({locale:s="en-US"})=>{const u=e.useRef(null),n={dataSource:wt,fields:{id:"Id",subject:"Subject",location:"Location",description:"Description",startTime:"StartTime",endTime:"EndTime",isAllDay:"IsAllDay",isBlock:"IsBlock",isReadonly:"IsReadonly",priority:"Priority"}},r=i=>{const l=[{name:"subject",props:{labelMode:"Auto",variant:nt.Outlined,placeholder:"Event Title"}},{name:"location",props:{labelMode:"Auto",variant:nt.Outlined,placeholder:"Meeting Location"}},{name:"startDate",props:{variant:nt.Outlined,placeholder:"Event Start Date"}},{name:"startTime",props:{variant:nt.Outlined,placeholder:"Event Start Time"}},{name:"endDate",props:{variant:nt.Outlined,placeholder:"Event End Date"}},{name:"endTime",props:{variant:nt.Outlined,placeholder:"Event Start Date"}},{name:"isAllDay",props:{color:rr.Info,label:"All day Event"}},{name:"description",props:{variant:nt.Outlined,labelMode:"Auto",placeholder:"Notes"}}];return t.jsx(xt,{...i,fields:l,dialogProps:{open:i.open,header:i.action==="Add"?"Edit Appointment":"New Appointment",closeIcon:!1},style:{width:"600px"}})};return t.jsx("div",{className:"control-section",children:t.jsx("div",{className:"scheduler-control",children:t.jsx(vt,{locale:s,children:t.jsxs(St,{ref:u,height:"550px",width:"100%",defaultSelectedDate:new Date(2017,10,1),defaultView:"Week",eventSettings:n,editor:r,children:[t.jsx(bt,{}),t.jsx(Ct,{}),t.jsx(jt,{}),t.jsx(Dt,{})]})})})})};try{hn.displayName="CustomizeDefaultField",hn.__docgenInfo={description:"",displayName:"CustomizeDefaultField",props:{locale:{defaultValue:{value:"en-US"},description:"",name:"locale",required:!1,type:{name:"string"}}}}}catch{}yn.load({"en-US":{scheduler:{save:"Add",cancel:"Close",delete:"Remove",newEvent:"Add Event"}}});const Rs=({locale:s="en-US"})=>{const u=e.useRef(null),n={dataSource:wt,fields:{id:"Id",subject:"Subject",location:"Location",description:"Description",startTime:"StartTime",endTime:"EndTime",isAllDay:"IsAllDay",isBlock:"IsBlock",isReadonly:"IsReadonly"}};return t.jsx("div",{className:"control-section",children:t.jsx("div",{className:"scheduler-control",children:t.jsx(vt,{locale:s,children:t.jsxs(St,{ref:u,height:"550px",width:"100%",defaultSelectedDate:new Date(2017,10,1),defaultView:"Week",eventSettings:n,children:[t.jsx(bt,{}),t.jsx(Ct,{}),t.jsx(jt,{}),t.jsx(Dt,{})]})})})})},_s={title:"Scheduler/Editor Window",parameters:{layout:"padded",docs:{description:{component:"Meta configuration for the Storybook stories"}}},tags:["autodocs"]},Jt={render:s=>t.jsx(Rs,{...s}),parameters:{docs:{description:{story:"Demonstrates how to customize the header and footer text of the default editor popup while preserving the standard button functionality (Save / Cancel / Delete)."}}}},Yt={render:s=>t.jsx(cn,{...s}),parameters:{docs:{description:{story:"Demonstrates how to completely replace the header and footer of the editor popup with your own custom React elements."}}}},Xt={render:s=>t.jsx(hn,{...s}),parameters:{docs:{description:{story:"Demonstrates how to add a custom component (such as a dropdown) between the existing default fields and override the existing default field."}}}},Zt={render:s=>t.jsx(dn,{...s}),parameters:{docs:{description:{story:"Demonstrates how to reorder the existing default fields in editor popup."}}}},en={render:s=>t.jsx(fn,{...s}),parameters:{docs:{description:{story:"Demonstrates how to use different editor popup layouts depending on the view "}}}},tn={render:s=>t.jsx(pn,{...s}),parameters:{docs:{description:{story:"Demonstrates how to replace an existing field with a custom field and shows how to hide the default fields."}}}},nn={render:s=>t.jsx(mn,{...s}),parameters:{docs:{description:{story:"Demonstrates how to customize the entire editor popup using reactive forms, including a layout with a calendar preview, grouped fields, a custom sport selector, uppercase subject transformation, and more."}}}};var Vn,Hn,Bn;Jt.parameters={...Jt.parameters,docs:{...(Vn=Jt.parameters)==null?void 0:Vn.docs,source:{originalSource:`{
  render: args => <HeaderFooter {...args} />,
  parameters: {
    docs: {
      description: {
        story: 'Demonstrates how to customize the header and footer text of the default editor popup while preserving the standard button functionality (Save / Cancel / Delete).'
      }
    }
  }
}`,...(Bn=(Hn=Jt.parameters)==null?void 0:Hn.docs)==null?void 0:Bn.source}}};var On,Pn,_n;Yt.parameters={...Yt.parameters,docs:{...(On=Yt.parameters)==null?void 0:On.docs,source:{originalSource:`{
  render: args => <CustomHeaderFooter {...args} />,
  parameters: {
    docs: {
      description: {
        story: 'Demonstrates how to completely replace the header and footer of the editor popup ' + 'with your own custom React elements.'
      }
    }
  }
}`,...(_n=(Pn=Yt.parameters)==null?void 0:Pn.docs)==null?void 0:_n.source}}};var $n,qn,zn;Xt.parameters={...Xt.parameters,docs:{...($n=Xt.parameters)==null?void 0:$n.docs,source:{originalSource:`{
  render: args => <CustomizeDefaultField {...args} />,
  parameters: {
    docs: {
      description: {
        story: 'Demonstrates how to add a custom component (such as a dropdown) between the existing default fields and override the existing default field.'
      }
    }
  }
}`,...(zn=(qn=Xt.parameters)==null?void 0:qn.docs)==null?void 0:zn.source}}};var Un,Wn,Gn;Zt.parameters={...Zt.parameters,docs:{...(Un=Zt.parameters)==null?void 0:Un.docs,source:{originalSource:`{
  render: args => <ReorderFieldsExample {...args} />,
  parameters: {
    docs: {
      description: {
        story: 'Demonstrates how to reorder the existing default fields in editor popup.'
      }
    }
  }
}`,...(Gn=(Wn=Zt.parameters)==null?void 0:Wn.docs)==null?void 0:Gn.source}}};var Kn,Qn,Jn;en.parameters={...en.parameters,docs:{...(Kn=en.parameters)==null?void 0:Kn.docs,source:{originalSource:`{
  render: args => <ViewLevelOverride {...args} />,
  parameters: {
    docs: {
      description: {
        story: 'Demonstrates how to use different editor popup layouts depending on the view '
      }
    }
  }
}`,...(Jn=(Qn=en.parameters)==null?void 0:Qn.docs)==null?void 0:Jn.source}}};var Yn,Xn,Zn;tn.parameters={...tn.parameters,docs:{...(Yn=tn.parameters)==null?void 0:Yn.docs,source:{originalSource:`{
  render: args => <HideFieldsAndCustomField {...args} />,
  parameters: {
    docs: {
      description: {
        story: 'Demonstrates how to replace an existing field with a custom field and shows how to hide the default fields.'
      }
    }
  }
}`,...(Zn=(Xn=tn.parameters)==null?void 0:Xn.docs)==null?void 0:Zn.source}}};var er,tr,nr;nn.parameters={...nn.parameters,docs:{...(er=nn.parameters)==null?void 0:er.docs,source:{originalSource:`{
  render: args => <CustomReactiveEditorExample {...args} />,
  parameters: {
    docs: {
      description: {
        story: 'Demonstrates how to customize the entire editor popup using reactive forms, including a layout with a calendar preview, grouped fields, a custom sport selector, uppercase subject transformation, and more.'
      }
    }
  }
}`,...(nr=(tr=nn.parameters)==null?void 0:tr.docs)==null?void 0:nr.source}}};const $s=["HeaderFooterLocalization","CustomHeaderAndFooter","CustomizeDefaultFields","ReorderFields","ViewLevelEditorOverride","HideFieldsAndCustomFields","CustomFormsExample"];export{nn as CustomFormsExample,Yt as CustomHeaderAndFooter,Xt as CustomizeDefaultFields,Jt as HeaderFooterLocalization,tn as HideFieldsAndCustomFields,Zt as ReorderFields,en as ViewLevelEditorOverride,$s as __namedExportsOrder,_s as default};
